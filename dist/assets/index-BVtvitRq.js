(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Kd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Vw(){if(nv)return Il;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var iv;function Pw(){return iv||(iv=1,Kd.exports=Vw()),Kd.exports}var Tt=Pw(),Yd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function kw(){if(rv)return bt;rv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function H(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||z}H.prototype.isReactComponent={},H.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=H.prototype;function tt(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||z}var rt=tt.prototype=new et;rt.constructor=tt,G(rt,H.prototype),rt.isPureReactComponent=!0;var Rt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function O(D,W,at,it,ft,Mt){return at=Mt.ref,{$$typeof:r,type:D,key:W,ref:at!==void 0?at:null,props:Mt}}function w(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function b(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return W[at]})}var N=/\/+/g;function k(D,W){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):W.toString(36)}function C(){}function le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,W,at,it,ft){var Mt=typeof D;(Mt==="undefined"||Mt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Mt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case E:return vt=D._init,ee(vt(D._payload),W,at,it,ft)}}if(vt)return ft=ft(D),vt=it===""?"."+k(D,0):it,Rt(ft)?(at="",vt!=null&&(at=vt.replace(N,"$&/")+"/"),ee(ft,W,at,"",function(xn){return xn})):ft!=null&&(b(ft)&&(ft=w(ft,at+(ft.key==null||D&&D.key===ft.key?"":(""+ft.key).replace(N,"$&/")+"/")+vt)),W.push(ft)),1;vt=0;var ke=it===""?".":it+":";if(Rt(D))for(var Gt=0;Gt<D.length;Gt++)it=D[Gt],Mt=ke+k(it,Gt),vt+=ee(it,W,at,Mt,ft);else if(Gt=I(D),typeof Gt=="function")for(D=Gt.call(D),Gt=0;!(it=D.next()).done;)it=it.value,Mt=ke+k(it,Gt++),vt+=ee(it,W,at,Mt,ft);else if(Mt==="object"){if(typeof D.then=="function")return ee(le(D),W,at,it,ft);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function K(D,W,at){if(D==null)return D;var it=[],ft=0;return ee(D,it,"","",function(Mt){return W.call(at,Mt,ft++)}),it}function st(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var dt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return bt.Children={map:K,forEach:function(D,W,at){K(D,function(){W.apply(this,arguments)},at)},count:function(D){var W=0;return K(D,function(){W++}),W},toArray:function(D){return K(D,function(W){return W})||[]},only:function(D){if(!b(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=H,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=tt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ut.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,W,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=G({},D.props),ft=D.key,Mt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(Mt=void 0),W.key!==void 0&&(ft=""+W.key),W)!Dt.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(it[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)it.children=at;else if(1<vt){for(var ke=Array(vt),Gt=0;Gt<vt;Gt++)ke[Gt]=arguments[Gt+2];it.children=ke}return O(D.type,ft,void 0,void 0,Mt,it)},bt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},bt.createElement=function(D,W,at){var it,ft={},Mt=null;if(W!=null)for(it in W.key!==void 0&&(Mt=""+W.key),W)Dt.call(W,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ft[it]=W[it]);var vt=arguments.length-2;if(vt===1)ft.children=at;else if(1<vt){for(var ke=Array(vt),Gt=0;Gt<vt;Gt++)ke[Gt]=arguments[Gt+2];ft.children=ke}if(D&&D.defaultProps)for(it in vt=D.defaultProps,vt)ft[it]===void 0&&(ft[it]=vt[it]);return O(D,Mt,void 0,void 0,null,ft)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:m,render:D}},bt.isValidElement=b,bt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:st}},bt.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},bt.startTransition=function(D){var W=ut.T,at={};ut.T=at;try{var it=D(),ft=ut.S;ft!==null&&ft(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ut,dt)}catch(Mt){dt(Mt)}finally{ut.T=W}},bt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},bt.use=function(D){return ut.H.use(D)},bt.useActionState=function(D,W,at){return ut.H.useActionState(D,W,at)},bt.useCallback=function(D,W){return ut.H.useCallback(D,W)},bt.useContext=function(D){return ut.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,W){return ut.H.useDeferredValue(D,W)},bt.useEffect=function(D,W,at){var it=ut.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(D,W)},bt.useId=function(){return ut.H.useId()},bt.useImperativeHandle=function(D,W,at){return ut.H.useImperativeHandle(D,W,at)},bt.useInsertionEffect=function(D,W){return ut.H.useInsertionEffect(D,W)},bt.useLayoutEffect=function(D,W){return ut.H.useLayoutEffect(D,W)},bt.useMemo=function(D,W){return ut.H.useMemo(D,W)},bt.useOptimistic=function(D,W){return ut.H.useOptimistic(D,W)},bt.useReducer=function(D,W,at){return ut.H.useReducer(D,W,at)},bt.useRef=function(D){return ut.H.useRef(D)},bt.useState=function(D){return ut.H.useState(D)},bt.useSyncExternalStore=function(D,W,at){return ut.H.useSyncExternalStore(D,W,at)},bt.useTransition=function(){return ut.H.useTransition()},bt.version="19.1.1",bt}var sv;function Hm(){return sv||(sv=1,Yd.exports=kw()),Yd.exports}var F=Hm(),Qd={exports:{}},Cl={},$d={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function xw(){return av||(av=1,(function(r){function t(K,st){var dt=K.length;K.push(st);t:for(;0<dt;){var Ut=dt-1>>>1,D=K[Ut];if(0<o(D,st))K[Ut]=st,K[dt]=D,dt=Ut;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],dt=K.pop();if(dt!==st){K[0]=dt;t:for(var Ut=0,D=K.length,W=D>>>1;Ut<W;){var at=2*(Ut+1)-1,it=K[at],ft=at+1,Mt=K[ft];if(0>o(it,dt))ft<D&&0>o(Mt,it)?(K[Ut]=Mt,K[ft]=dt,Ut=ft):(K[Ut]=it,K[at]=dt,Ut=at);else if(ft<D&&0>o(Mt,dt))K[Ut]=Mt,K[ft]=dt,Ut=ft;else break t}}return st}function o(K,st){var dt=K.sortIndex-st.sortIndex;return dt!==0?dt:K.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,I=3,z=!1,G=!1,Z=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Rt(K){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=K)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function ut(K){if(Z=!1,Rt(K),!G)if(n(p)!==null)G=!0,Dt||(Dt=!0,k());else{var st=n(g);st!==null&&ee(ut,st.startTime-K)}}var Dt=!1,O=-1,w=5,b=-1;function V(){return H?!0:!(r.unstable_now()-b<w)}function N(){if(H=!1,Dt){var K=r.unstable_now();b=K;var st=!0;try{t:{G=!1,Z&&(Z=!1,tt(O),O=-1),z=!0;var dt=I;try{e:{for(Rt(K),A=n(p);A!==null&&!(A.expirationTime>K&&V());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,I=A.priorityLevel;var D=Ut(A.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){A.callback=D,Rt(K),st=!0;break e}A===n(p)&&s(p),Rt(K)}else s(p);A=n(p)}if(A!==null)st=!0;else{var W=n(g);W!==null&&ee(ut,W.startTime-K),st=!1}}break t}finally{A=null,I=dt,z=!1}st=void 0}}finally{st?k():Dt=!1}}}var k;if(typeof rt=="function")k=function(){rt(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=N,k=function(){le.postMessage(null)}}else k=function(){et(N,0)};function ee(K,st){O=et(function(){K(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(K){switch(I){case 1:case 2:case 3:var st=3;break;default:st=I}var dt=I;I=st;try{return K()}finally{I=dt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=I;I=K;try{return st()}finally{I=dt}},r.unstable_scheduleCallback=function(K,st,dt){var Ut=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ut+dt:Ut):dt=Ut,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=dt+D,K={id:E++,callback:st,priorityLevel:K,startTime:dt,expirationTime:D,sortIndex:-1},dt>Ut?(K.sortIndex=dt,t(g,K),n(p)===null&&K===n(g)&&(Z?(tt(O),O=-1):Z=!0,ee(ut,dt-Ut))):(K.sortIndex=D,t(p,K),G||z||(G=!0,Dt||(Dt=!0,k()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var st=I;return function(){var dt=I;I=st;try{return K.apply(this,arguments)}finally{I=dt}}}})(Xd)),Xd}var ov;function Lw(){return ov||(ov=1,$d.exports=xw()),$d.exports}var Wd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Uw(){if(lv)return Ke;lv=1;var r=Hm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:z}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:I,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var uv;function zw(){if(uv)return Wd.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=Uw(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Bw(){if(cv)return Cl;cv=1;var r=Lw(),t=Hm(),n=zw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case H:return"Profiler";case Z:return"StrictMode";case ut:return"Suspense";case Dt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case tt:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:le(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return le(e(i))}catch{}}return null}var ee=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function W(e){return{current:e}}function at(e){0>D||(e.current=Ut[D],Ut[D]=null,D--)}function it(e,i){D++,Ut[D]=e.current,e.current=i}var ft=W(null),Mt=W(null),vt=W(null),ke=W(null);function Gt(e,i){switch(it(vt,i),it(Mt,e),it(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?N_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=N_(i),e=O_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(ft),it(ft,e)}function xn(){at(ft),at(Mt),at(vt)}function To(e){e.memoizedState!==null&&it(ke,e);var i=ft.current,a=O_(i,e.type);i!==a&&(it(Mt,e),it(ft,a))}function sa(e){Mt.current===e&&(at(ft),at(Mt)),ke.current===e&&(at(ke),Sl._currentValue=dt)}var aa=Object.prototype.hasOwnProperty,rs=r.unstable_scheduleCallback,oa=r.unstable_cancelCallback,Kh=r.unstable_shouldYield,So=r.unstable_requestPaint,nn=r.unstable_now,yu=r.unstable_getCurrentPriorityLevel,Se=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,Yh=r.unstable_LowPriority,Ao=r.unstable_IdlePriority,Qh=r.log,ss=r.unstable_setDisableYieldValue,er=null,He=null;function vn(e){if(typeof Qh=="function"&&ss(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(er,e)}catch{}}var We=Math.clz32?Math.clz32:vu,$h=Math.log,_u=Math.LN2;function vu(e){return e>>>=0,e===0?32:31-($h(e)/_u|0)|0}var Jn=256,nr=4194304;function Ln(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~e,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~e,a!==0&&(h=Ln(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ir(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function la(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var e=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),e}function rr(){var e=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),e}function ua(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function he(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-We(a),$=1<<Y;T[Y]=0,R[Y]=-1;var B=U[Y];if(B!==null)for(U[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&sr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function sr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-We(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ar(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-We(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ro(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function Xh(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var ti=Math.random().toString(36).slice(2),fe="__reactFiber$"+ti,xe="__reactProps$"+ti,Ri="__reactContainer$"+ti,as="__reactEvents$"+ti,os="__reactListeners$"+ti,Wh="__reactHandles$"+ti,Un="__reactResources$"+ti,or="__reactMarker$"+ti;function ca(e){delete e[fe],delete e[xe],delete e[as],delete e[os],delete e[Wh]}function ei(e){var i=e[fe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ri]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=k_(e);e!==null;){if(a=e[fe])return a;e=k_(e)}return i}e=a,a=e.parentNode}return null}function ni(e){if(e=e[fe]||e[Ri]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function lr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ur(e){var i=e[Un];return i||(i=e[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[or]=!0}var Tu=new Set,ls={};function ii(e,i){ri(e,i),ri(e+"Capture",i)}function ri(e,i){for(ls[e]=i,e=0;e<i.length;e++)Tu.add(i[e])}var us=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),si={},ha={};function Zh(e){return aa.call(ha,e)?!0:aa.call(si,e)?!1:us.test(e)?ha[e]=!0:(si[e]=!0,!1)}function cs(e,i,a){if(Zh(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function hs(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var fs,fa;function Ii(e){if(fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fs=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+e+fa}var da=!1;function ma(e,i){if(!e||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),U=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var Y=`
`+R[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function Jh(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ma(e.type,!1);case 11:return ma(e.type.render,!1);case 1:return ma(e.type,!0);case 31:return Ii("Activity");default:return""}}function zn(e){try{var i="";do i+=Jh(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function re(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ds(e){var i=cr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function hr(e){e._valueTracker||(e._valueTracker=ds(e))}function Kt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function De(e){return e.replace(ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Io(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+re(i)):e.value!==""+re(i)&&(e.value=""+re(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Do(e,v,re(i)):a!=null?Do(e,v,re(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+re(T):e.removeAttribute("name")}function Co(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+re(a):"",i=i!=null?""+re(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Do(e,i,a){i==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+re(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Su(e,i,a){if(i!=null&&(i=""+re(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+re(a):""}function Au(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=re(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Di.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&No(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&No(e,d,i[d])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(e){return bu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mo=null;function Vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,Ze=null;function Ru(e){var i=ni(e);if(i&&(e=i.stateNode)){var a=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Io(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+De(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[xe]||null;if(!h)throw Error(s(90));Io(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Kt(l)}break t;case"textarea":Su(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&fr(e,!!a.multiple,i,!1)}}}var ps=!1;function gs(e,i,a){if(ps)return e(i,a);ps=!0;try{var l=e(i);return l}finally{if(ps=!1,(dr!==null||Ze!==null)&&(pc(),dr&&(i=dr,e=Ze,Ze=dr=null,Ru(i),e)))for(i=0;i<e.length;i++)Ru(e[i])}}function mr(e,i){var a=e.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Je=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(Je)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Ni=!1}var An=null,Wt=null,ga=null;function Iu(){if(ga)return ga;var e,i=Wt,a=i.length,l,h="value"in An?An.value:An.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return ga=h.slice(e,1<l?1-l:void 0)}function ys(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Po(){return!1}function Ae(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_s:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Ae(Fe),Es=E({},Fe,{view:0,detail:0}),Ts=Ae(Es),ya,Ss,ai,As=E({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(ya=e.screenX-ai.screenX,Ss=e.screenY-ai.screenY):Ss=ya=0,ai=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),ws=Ae(As),tf=E({},As,{dataTransfer:0}),Cu=Ae(tf),bs=E({},Es,{relatedTarget:0}),_a=Ae(bs),Du=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ko=Ae(Du),xo=E({},Fe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Ae(xo),va=E({},Fe,{data:0}),Lo=Ae(va),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Mu[e])?!!i[e]:!1}function Ea(){return Vu}var Pu=E({},Es,{key:function(e){if(e.key){var i=Ou[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ta=Ae(Pu),tn=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Ae(tn),ku=E({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),gr=Ae(ku),c=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ae(c),_=E({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Ae(_),L=E({},Fe,{newState:0,oldState:0}),j=Ae(L),nt=[9,13,27,32],At=Je&&"CompositionEvent"in window,Jt=null;Je&&"documentMode"in document&&(Jt=document.documentMode);var jt=Je&&"TextEvent"in window&&!Jt,me=Je&&(!At||Jt&&8<Jt&&11>=Jt),cn=" ",oi=!1;function qn(e,i){switch(e){case"keyup":return nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function zo(e,i){switch(e){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(oi=!0,cn);case"textInput":return e=i.data,e===cn&&oi?null:e;default:return null}}function aA(e,i){if(Hn)return e==="compositionend"||!At&&qn(e,i)?(e=Iu(),ga=Wt=An=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return me&&i.locale!=="ko"?null:i.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!oA[e.type]:i==="textarea"}function Gp(e,i,a,l){dr?Ze?Ze.push(l):Ze=[l]:dr=l,i=Tc(i,"onChange"),0<i.length&&(a=new vs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Bo=null,qo=null;function lA(e){b_(e,0)}function xu(e){var i=lr(e);if(Kt(i))return e}function Kp(e,i){if(e==="change")return i}var Yp=!1;if(Je){var ef;if(Je){var nf="oninput"in document;if(!nf){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),nf=typeof Qp.oninput=="function"}ef=nf}else ef=!1;Yp=ef&&(!document.documentMode||9<document.documentMode)}function $p(){Bo&&(Bo.detachEvent("onpropertychange",Xp),qo=Bo=null)}function Xp(e){if(e.propertyName==="value"&&xu(qo)){var i=[];Gp(i,qo,e,Vo(e)),gs(lA,i)}}function uA(e,i,a){e==="focusin"?($p(),Bo=i,qo=a,Bo.attachEvent("onpropertychange",Xp)):e==="focusout"&&$p()}function cA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(qo)}function hA(e,i){if(e==="click")return xu(i)}function fA(e,i){if(e==="input"||e==="change")return xu(i)}function dA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:dA;function jo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!aa.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,i){var a=Wp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wp(a)}}function Jp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Jp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ci(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ci(e.document)}return i}function rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var mA=Je&&"documentMode"in document&&11>=document.documentMode,Sa=null,sf=null,Ho=null,af=!1;function eg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||Sa==null||Sa!==Ci(l)||(l=Sa,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&jo(Ho,l)||(Ho=l,l=Tc(sf,"onSelect"),0<l.length&&(i=new vs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},of={},ng={};Je&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Is(e){if(of[e])return of[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return of[e]=i[a];return e}var ig=Is("animationend"),rg=Is("animationiteration"),sg=Is("animationstart"),pA=Is("transitionrun"),gA=Is("transitionstart"),yA=Is("transitioncancel"),ag=Is("transitionend"),og=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Fn(e,i){og.set(e,i),ii(i,[e])}var lg=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:zn(i)},lg.set(e,i),i)}return{value:e,source:i,stack:zn(i)}}var bn=[],wa=0,uf=0;function Lu(){for(var e=wa,i=uf=wa=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ug(a,h,d)}}function Uu(e,i,a,l){bn[wa++]=e,bn[wa++]=i,bn[wa++]=a,bn[wa++]=l,uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cf(e,i,a,l){return Uu(e,i,a,l),zu(e)}function ba(e,i){return Uu(e,null,null,i),zu(e)}function ug(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-We(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(e){if(50<ml)throw ml=0,gd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ra={};function _A(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new _A(e,i,a,l)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Bu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")hf(e)&&(v=1);else if(typeof e=="string")v=Ew(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=fn(31,a,i,h),e.elementType=b,e.lanes=d,e;case G:return Cs(a.children,h,d,i);case Z:v=8,h|=24;break;case H:return e=fn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case ut:return e=fn(13,a,i,h),e.elementType=ut,e.lanes=d,e;case Dt:return e=fn(19,a,i,h),e.elementType=Dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case rt:v=10;break t;case tt:v=9;break t;case Rt:v=11;break t;case O:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Cs(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function ff(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function df(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ia=[],Ca=0,qu=null,ju=0,Rn=[],In=0,Ds=null,Vi=1,Pi="";function Ns(e,i){Ia[Ca++]=ju,Ia[Ca++]=qu,qu=e,ju=i}function hg(e,i,a){Rn[In++]=Vi,Rn[In++]=Pi,Rn[In++]=Ds,Ds=e;var l=Vi;e=Pi;var h=32-We(l)-1;l&=~(1<<h),a+=1;var d=32-We(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-We(i)+h|a<<h|l,Pi=d+e}else Vi=1<<d|a<<h|l,Pi=e}function mf(e){e.return!==null&&(Ns(e,1),hg(e,1,0))}function pf(e){for(;e===qu;)qu=Ia[--Ca],Ia[Ca]=null,ju=Ia[--Ca],Ia[Ca]=null;for(;e===Ds;)Ds=Rn[--In],Rn[In]=null,Pi=Rn[--In],Rn[In]=null,Vi=Rn[--In],Rn[In]=null}var en=null,ue=null,Bt=!1,Os=null,li=!1,gf=Error(s(519));function Ms(e){var i=Error(s(418,""));throw Ko(wn(i,e)),gf}function fg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[fe]=e,i[xe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Ot(gl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Co(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hr(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),Au(i,l.value,l.defaultValue,l.children),hr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=Sc),i=!0):i=!1,i||Ms(e)}function dg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:en=en.return}}function Fo(e){if(e!==en)return!1;if(!Bt)return dg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&ue&&Ms(e),dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Mr(e.type)?(e=xd,xd=null,ue=e):ue=i):ue=en?Kn(e.stateNode.nextSibling):null;return!0}function Go(){ue=en=null,Bt=!1}function mg(){var e=Os;return e!==null&&(an===null?an=e:an.push.apply(an,e),Os=null),e}function Ko(e){Os===null?Os=[e]:Os.push(e)}var yf=W(null),Vs=null,ki=null;function yr(e,i,a){it(yf,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=yf.current,at(yf)}function _f(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),_f(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),_f(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&vf(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){Vs=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return pg(Vs,e)}function Fu(e,i){return Vs===null&&Ps(e),pg(e,i)}function pg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ki=ki.next=i;return a}var vA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},EA=r.unstable_scheduleCallback,TA=r.unstable_NormalPriority,we={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new vA,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&EA(TA,function(){e.controller.abort()})}var $o=null,Tf=0,Da=0,Na=null;function SA(e,i){if($o===null){var a=$o=[];Tf=0,Da=Ad(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(gg,gg),i}function gg(){if(--Tf===0&&$o!==null){Na!==null&&(Na.status="fulfilled");var e=$o;$o=null,Da=0,Na=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(e,i),yg!==null&&yg(e,i)};var ks=W(null);function Sf(){var e=ks.current;return e!==null?e:Zt.pooledCache}function Gu(e,i){i===null?it(ks,ks.current):it(ks,i.pool)}function _g(){var e=Sf();return e===null?null:{parent:we._currentValue,pool:e}}var Xo=Error(s(460)),vg=Error(s(474)),Ku=Error(s(542)),Af={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yu(){}function Tg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yu,Yu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e;default:if(typeof i.status=="string")i.then(Yu,Yu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e}throw Wo=i,Xo}}var Wo=null;function Sg(){if(Wo===null)throw Error(s(459));var e=Wo;return Wo=null,e}function Ag(e){if(e===Xo||e===Ku)throw Error(s(483))}var _r=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(e),ug(e,null,a),i}return Uu(e,l,i,a),zu(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ar(e,a)}}function Rf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function Jo(){if(If){var e=Na;if(e!==null)throw e}}function tl(e,i,a,l){If=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,v===null?d=U:v.next=U,v=R;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=R))}if(d!==null){var $=h.baseState;v=0,Y=U=R=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(xt&B)===B:(l&B)===B){B!==0&&B===Da&&(If=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,pt=T;B=i;var $t=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){$=Et.call($t,$,B);break t}$=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call($t,$,B):Et,B==null)break t;$=E({},$,B);break t;case 2:_r=!0}}B=T.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=q,R=$):Y=Y.next=q,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Cr|=v,e.lanes=v,e.memoizedState=$}}function wg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function bg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wg(a[e],i)}var Oa=W(null),Qu=W(0);function Rg(e,i){e=Hi,it(Qu,e),it(Oa,i),Hi=e|i.baseLanes}function Cf(){it(Qu,Hi),it(Oa,Oa.current)}function Df(){Hi=Qu.current,at(Oa),at(Qu)}var Tr=0,It=null,Yt=null,_e=null,$u=!1,Ma=!1,xs=!1,Xu=0,el=0,Va=null,wA=0;function pe(){throw Error(s(321))}function Nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Of(e,i,a,l,h,d){return Tr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?uy:cy,xs=!1,d=a(l,h),xs=!1,Ma&&(d=Cg(i,a,l,h)),Ig(e),d}function Ig(e){K.H=nc;var i=Yt!==null&&Yt.next!==null;if(Tr=0,_e=Yt=It=null,$u=!1,el=0,Va=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Hu(e)&&(Ne=!0))}function Cg(e,i,a,l){It=e;var h=0;do{if(Ma&&(Va=null),el=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,_e=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=OA,d=i(a,l)}while(Ma);return d}function bA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(It.flags|=1024),i}function Mf(){var e=Xu!==0;return Xu=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Pf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Tr=0,_e=Yt=It=null,Ma=!1,el=Xu=0,Va=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Yt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=_e===null?It.memoizedState:_e.next;if(i!==null)_e=i,Yt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Va===null&&(Va=[]),e=Tg(Va,e,i),i=It,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?uy:cy),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===rt)return Ge(e)}throw Error(s(438,String(e)))}function xf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=kf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Li(e,i){return typeof i=="function"?i(e):i}function Zu(e){var i=ve();return Lf(i,Yt,e)}function Lf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,R=null,U=i,Y=!1;do{var $=U.lane&-536870913;if($!==U.lane?(xt&$)===$:(Tr&$)===$){var B=U.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Da&&(Y=!0);else if((Tr&B)===B){U=U.next,B===Da&&(Y=!0);continue}else $={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=$,v=d):R=R.next=$,It.lanes|=B,Cr|=B;$=U.action,xs&&a(d,$),d=U.hasEagerState?U.eagerState:a(d,$)}else B={lane:$,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=B,v=d):R=R.next=B,It.lanes|=$,Cr|=$;U=U.next}while(U!==null&&U!==i);if(R===null?v=d:R.next=T,!hn(d,e.memoizedState)&&(Ne=!0,Y&&(a=Na,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(e,i,a){var l=It,h=ve(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=Mg.bind(null,l,h,e);if(il(2048,8,T,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Pa(9,Ju(),Og.bind(null,l,h,a,i),null),Zt===null)throw Error(s(349));d||(Tr&124)!==0||Ng(l,i,a)}return a}function Ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=kf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Og(e,i,a,l){i.value=a,i.getSnapshot=l,Vg(i)&&Pg(e)}function Mg(e,i,a){return a(function(){Vg(i)&&Pg(e)})}function Vg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Pg(e){var i=ba(e,2);i!==null&&yn(i,e,2)}function zf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),xs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},i}function kg(e,i,a,l){return e.baseState=a,Lf(e,Yt,typeof l=="function"?l:Li)}function RA(e,i,a,l,h){if(ec(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function xg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),R=K.S;R!==null&&R(v,T),Lg(e,i,T)}catch(U){Bf(e,i,U)}finally{K.T=d}}else try{d=a(h,l),Lg(e,i,d)}catch(U){Bf(e,i,U)}}function Lg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ug(e,i,l)},function(l){return Bf(e,i,l)}):Ug(e,i,a)}function Ug(e,i,a){i.status="fulfilled",i.value=a,zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,xg(e,a)))}function Bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==l)}e.action=null}function zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function qg(e,i){if(Bt){var a=Zt.formState;if(a!==null){t:{var l=It;if(Bt){if(ue){e:{for(var h=ue,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Kn(h.nextSibling),l=h.data==="F!";break t}}Ms(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=l,a=ay.bind(null,It,l),l.dispatch=a,l=zf(!1),d=Gf.bind(null,It,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=RA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function jg(e){var i=ve();return Hg(i,Yt,e)}function Hg(e,i,a){if(i=Lf(e,i,Bg)[0],e=Zu(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===Xo?Ku:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Pa(9,Ju(),IA.bind(null,h,a),null)),[l,d,e]}function IA(e,i){e.action=i}function Fg(e){var i=ve(),a=Yt;if(a!==null)return Hg(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Pa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=kf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ju(){return{destroy:void 0,resource:void 0}}function Gg(){return ve().memoizedState}function tc(e,i,a,l){var h=rn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Pa(1|i,Ju(),a,l)}function il(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&Nf(l,Yt.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(It.flags|=e,h.memoizedState=Pa(1|i,d,a,l))}function Kg(e,i){tc(8390656,8,e,i)}function Yg(e,i){il(2048,8,e,i)}function Qg(e,i){return il(4,2,e,i)}function $g(e,i){return il(4,4,e,i)}function Xg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Wg(e,i,a){a=a!=null?a.concat([e]):null,il(4,4,Xg.bind(null,i,e),a)}function qf(){}function Zg(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Jg(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nf(i,l[1]))return l[0];if(l=e(),xs){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function jf(e,i,a){return a===void 0||(Tr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=n_(),It.lanes|=e,Cr|=e,a)}function ty(e,i,a,l){return hn(a,i)?a:Oa.current!==null?(e=jf(e,a,l),hn(e,i)||(Ne=!0),e):(Tr&42)===0?(Ne=!0,e.memoizedState=a):(e=n_(),It.lanes|=e,Cr|=e,i)}function ey(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Gf(e,!1,i,a);try{var R=h(),U=K.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=AA(R,l);rl(e,i,Y,gn(e))}else rl(e,i,l,gn(e))}catch($){rl(e,i,{then:function(){},status:"rejected",reason:$},gn())}finally{st.p=d,K.T=v}}function CA(){}function Hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ny(e).queue;ey(e,h,i,dt,a===null?CA:function(){return iy(e),a(l)})}function ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function iy(e){var i=ny(e).next.queue;rl(e,i,{},gn())}function Ff(){return Ge(Sl)}function ry(){return ve().memoizedState}function sy(){return ve().memoizedState}function DA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=vr(a);var l=Er(i,e,a);l!==null&&(yn(l,i,a),Zo(l,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function NA(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?oy(i,a):(a=cf(e,i,a,l),a!==null&&(yn(a,e,l),ly(a,i,l)))}function ay(e,i,a){var l=gn();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))oy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Uu(e,i,h,0),Zt===null&&Lu(),!1}catch{}finally{}if(a=cf(e,i,h,l),a!==null)return yn(a,e,l),ly(a,i,l),!0}return!1}function Gf(e,i,a,l){if(l={lane:2,revertLane:Ad(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(i)throw Error(s(479))}else i=cf(e,a,l,2),i!==null&&yn(i,e,2)}function ec(e){var i=e.alternate;return e===It||i!==null&&i===It}function oy(e,i){Ma=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ly(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ar(e,a)}}var nc={readContext:Ge,use:Wu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},uy={readContext:Ge,use:Wu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Xg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(xs){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(xs){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=NA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=ay.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(e,i){var a=rn();return jf(a,e,i)},useTransition:function(){var e=zf(!1);return e=ey.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=rn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(xt&124)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Mg.bind(null,l,d,e),[e]),l.flags|=2048,Pa(9,Ju(),Og.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=Zt.identifierPrefix;if(Bt){var a=Pi,l=Vi;a=(l&~(1<<32-We(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=wA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Ff,useFormState:qg,useActionState:qg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:xf,useCacheRefresh:function(){return rn().memoizedState=DA.bind(null,It)}},cy={readContext:Ge,use:Wu,useCallback:Zg,useContext:Ge,useEffect:Yg,useImperativeHandle:Wg,useInsertionEffect:Qg,useLayoutEffect:$g,useMemo:Jg,useReducer:Zu,useRef:Gg,useState:function(){return Zu(Li)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ve();return ty(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Zu(Li)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Ff,useFormState:jg,useActionState:jg,useOptimistic:function(e,i){var a=ve();return kg(a,Yt,e,i)},useMemoCache:xf,useCacheRefresh:sy},OA={readContext:Ge,use:Wu,useCallback:Zg,useContext:Ge,useEffect:Yg,useImperativeHandle:Wg,useInsertionEffect:Qg,useLayoutEffect:$g,useMemo:Jg,useReducer:Uf,useRef:Gg,useState:function(){return Uf(Li)},useDebugValue:qf,useDeferredValue:function(e,i){var a=ve();return Yt===null?jf(a,e,i):ty(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Uf(Li)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Ff,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=ve();return Yt!==null?kg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:sy},ka=null,sl=0;function ic(e){var i=sl;return sl+=1,ka===null&&(ka=[]),Tg(ka,e,i)}function al(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hy(e){var i=e._init;return i(e._payload)}function fy(e){function i(P,M){if(e){var x=P.deletions;x===null?(P.deletions=[M],P.flags|=16):x.push(M)}}function a(P,M){if(!e)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Mi(P,M),P.index=0,P.sibling=null,P}function d(P,M,x){return P.index=x,e?(x=P.alternate,x!==null?(x=x.index,x<M?(P.flags|=67108866,M):x):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,x,Q){return M===null||M.tag!==6?(M=ff(x,P.mode,Q),M.return=P,M):(M=h(M,x),M.return=P,M)}function R(P,M,x,Q){var lt=x.type;return lt===G?Y(P,M,x.props.children,Q,x.key):M!==null&&(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&hy(lt)===M.type)?(M=h(M,x.props),al(M,x),M.return=P,M):(M=Bu(x.type,x.key,x.props,null,P.mode,Q),al(M,x),M.return=P,M)}function U(P,M,x,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==x.containerInfo||M.stateNode.implementation!==x.implementation?(M=df(x,P.mode,Q),M.return=P,M):(M=h(M,x.children||[]),M.return=P,M)}function Y(P,M,x,Q,lt){return M===null||M.tag!==7?(M=Cs(x,P.mode,Q,lt),M.return=P,M):(M=h(M,x),M.return=P,M)}function $(P,M,x){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ff(""+M,P.mode,x),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return x=Bu(M.type,M.key,M.props,null,P.mode,x),al(x,M),x.return=P,x;case z:return M=df(M,P.mode,x),M.return=P,M;case w:var Q=M._init;return M=Q(M._payload),$(P,M,x)}if(ee(M)||k(M))return M=Cs(M,P.mode,x,null),M.return=P,M;if(typeof M.then=="function")return $(P,ic(M),x);if(M.$$typeof===rt)return $(P,Fu(P,M),x);rc(P,M)}return null}function B(P,M,x,Q){var lt=M!==null?M.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return lt!==null?null:T(P,M,""+x,Q);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case I:return x.key===lt?R(P,M,x,Q):null;case z:return x.key===lt?U(P,M,x,Q):null;case w:return lt=x._init,x=lt(x._payload),B(P,M,x,Q)}if(ee(x)||k(x))return lt!==null?null:Y(P,M,x,Q,null);if(typeof x.then=="function")return B(P,M,ic(x),Q);if(x.$$typeof===rt)return B(P,M,Fu(P,x),Q);rc(P,x)}return null}function q(P,M,x,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(x)||null,T(M,P,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return P=P.get(Q.key===null?x:Q.key)||null,R(M,P,Q,lt);case z:return P=P.get(Q.key===null?x:Q.key)||null,U(M,P,Q,lt);case w:var Ct=Q._init;return Q=Ct(Q._payload),q(P,M,x,Q,lt)}if(ee(Q)||k(Q))return P=P.get(x)||null,Y(M,P,Q,lt,null);if(typeof Q.then=="function")return q(P,M,x,ic(Q),lt);if(Q.$$typeof===rt)return q(P,M,x,Fu(M,Q),lt);rc(M,Q)}return null}function Et(P,M,x,Q){for(var lt=null,Ct=null,ct=M,gt=M=0,Me=null;ct!==null&&gt<x.length;gt++){ct.index>gt?(Me=ct,ct=null):Me=ct.sibling;var zt=B(P,ct,x[gt],Q);if(zt===null){ct===null&&(ct=Me);break}e&&ct&&zt.alternate===null&&i(P,ct),M=d(zt,M,gt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt,ct=Me}if(gt===x.length)return a(P,ct),Bt&&Ns(P,gt),lt;if(ct===null){for(;gt<x.length;gt++)ct=$(P,x[gt],Q),ct!==null&&(M=d(ct,M,gt),Ct===null?lt=ct:Ct.sibling=ct,Ct=ct);return Bt&&Ns(P,gt),lt}for(ct=l(ct);gt<x.length;gt++)Me=q(ct,P,gt,x[gt],Q),Me!==null&&(e&&Me.alternate!==null&&ct.delete(Me.key===null?gt:Me.key),M=d(Me,M,gt),Ct===null?lt=Me:Ct.sibling=Me,Ct=Me);return e&&ct.forEach(function(Lr){return i(P,Lr)}),Bt&&Ns(P,gt),lt}function pt(P,M,x,Q){if(x==null)throw Error(s(151));for(var lt=null,Ct=null,ct=M,gt=M=0,Me=null,zt=x.next();ct!==null&&!zt.done;gt++,zt=x.next()){ct.index>gt?(Me=ct,ct=null):Me=ct.sibling;var Lr=B(P,ct,zt.value,Q);if(Lr===null){ct===null&&(ct=Me);break}e&&ct&&Lr.alternate===null&&i(P,ct),M=d(Lr,M,gt),Ct===null?lt=Lr:Ct.sibling=Lr,Ct=Lr,ct=Me}if(zt.done)return a(P,ct),Bt&&Ns(P,gt),lt;if(ct===null){for(;!zt.done;gt++,zt=x.next())zt=$(P,zt.value,Q),zt!==null&&(M=d(zt,M,gt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return Bt&&Ns(P,gt),lt}for(ct=l(ct);!zt.done;gt++,zt=x.next())zt=q(ct,P,gt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ct.delete(zt.key===null?gt:zt.key),M=d(zt,M,gt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return e&&ct.forEach(function(Mw){return i(P,Mw)}),Bt&&Ns(P,gt),lt}function $t(P,M,x,Q){if(typeof x=="object"&&x!==null&&x.type===G&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case I:t:{for(var lt=x.key;M!==null;){if(M.key===lt){if(lt=x.type,lt===G){if(M.tag===7){a(P,M.sibling),Q=h(M,x.props.children),Q.return=P,P=Q;break t}}else if(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&hy(lt)===M.type){a(P,M.sibling),Q=h(M,x.props),al(Q,x),Q.return=P,P=Q;break t}a(P,M);break}else i(P,M);M=M.sibling}x.type===G?(Q=Cs(x.props.children,P.mode,Q,x.key),Q.return=P,P=Q):(Q=Bu(x.type,x.key,x.props,null,P.mode,Q),al(Q,x),Q.return=P,P=Q)}return v(P);case z:t:{for(lt=x.key;M!==null;){if(M.key===lt)if(M.tag===4&&M.stateNode.containerInfo===x.containerInfo&&M.stateNode.implementation===x.implementation){a(P,M.sibling),Q=h(M,x.children||[]),Q.return=P,P=Q;break t}else{a(P,M);break}else i(P,M);M=M.sibling}Q=df(x,P.mode,Q),Q.return=P,P=Q}return v(P);case w:return lt=x._init,x=lt(x._payload),$t(P,M,x,Q)}if(ee(x))return Et(P,M,x,Q);if(k(x)){if(lt=k(x),typeof lt!="function")throw Error(s(150));return x=lt.call(x),pt(P,M,x,Q)}if(typeof x.then=="function")return $t(P,M,ic(x),Q);if(x.$$typeof===rt)return $t(P,M,Fu(P,x),Q);rc(P,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,M!==null&&M.tag===6?(a(P,M.sibling),Q=h(M,x),Q.return=P,P=Q):(a(P,M),Q=ff(x,P.mode,Q),Q.return=P,P=Q),v(P)):a(P,M)}return function(P,M,x,Q){try{sl=0;var lt=$t(P,M,x,Q);return ka=null,lt}catch(ct){if(ct===Xo||ct===Ku)throw ct;var Ct=fn(29,ct,null,P.mode);return Ct.lanes=Q,Ct.return=P,Ct}finally{}}}var xa=fy(!0),dy=fy(!1),Cn=W(null),ui=null;function Sr(e){var i=e.alternate;it(be,be.current&1),it(Cn,e),ui===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(ui=e)}function my(e){if(e.tag===22){if(it(be,be.current),it(Cn,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else Ar()}function Ar(){it(be,be.current),it(Cn,Cn.current)}function Ui(e){at(Cn),ui===e&&(ui=null),at(be)}var be=W(0);function sc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(yn(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(yn(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(e,l,a),i!==null&&(yn(i,e,a),Zo(i,e,a))}};function py(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function gy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ac=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yy(e){ac(e)}function _y(e){console.error(e)}function vy(e){ac(e)}function oc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,i)},a}function Ty(e){return e=vr(e),e.tag=3,e}function Sy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ey(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ey(i,a,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function MA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Yo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ui===null?_d():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(e,l,h)),!1;case 22:return a.flags|=65536,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(e,l,h)),!1}throw Error(s(435,a.tag))}return Ed(e,l,h),_d(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(e=Error(s(422),{cause:l}),Ko(wn(e,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),Ko(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=wn(l,a),h=Qf(e.stateNode,l,h),Rf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),dl===null?dl=[d]:dl.push(d),ce!==4&&(ce=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,l,e),Rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),Sy(h,e,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Ay=Error(s(461)),Ne=!1;function Le(e,i,a,l){i.child=e===null?dy(i,null,a,l):xa(i,e.child,a,l)}function wy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ps(i),l=Of(e,i,a,v,d,h),T=Mf(),e!==null&&!Ne?(Vf(e,i,h),zi(e,i,h)):(Bt&&T&&mf(i),i.flags|=1,Le(e,i,l,h),i.child)}function by(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(e,i,d,l,h)):(e=Bu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!nd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(v,l)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=Mi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ry(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(jo(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,nd(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,zi(e,i,h)}return $f(e,i,a,l,h)}function Iy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Cy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?Rg(i,d):Cf(),my(i);else return i.lanes=i.childLanes=536870912,Cy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Gu(i,d.cachePool),Rg(i,d),Ar(),i.memoizedState=null):(e!==null&&Gu(i,null),Cf(),Ar());return Le(e,i,h,a),i.child}function Cy(e,i,a,l){var h=Sf();return h=h===null?null:{parent:we._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Gu(i,null),Cf(),my(i),e!==null&&Yo(e,i,l,!0),null}function lc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function $f(e,i,a,l,h){return Ps(i),a=Of(e,i,a,l,void 0,h),l=Mf(),e!==null&&!Ne?(Vf(e,i,h),zi(e,i,h)):(Bt&&l&&mf(i),i.flags|=1,Le(e,i,a,h),i.child)}function Dy(e,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Cg(i,l,a,h),Ig(e),l=Mf(),e!==null&&!Ne?(Vf(e,i,d),zi(e,i,d)):(Bt&&l&&mf(i),i.flags|=1,Le(e,i,a,d),i.child)}function Ny(e,i,a,l,h){if(Ps(i),i.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):Ra,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Yf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,R=Ls(a,T);d.props=R;var U=d.context,Y=a.contextType;v=Ra,typeof Y=="object"&&Y!==null&&(v=Ge(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&gy(i,d,l,v),_r=!1;var B=i.memoizedState;d.state=B,tl(i,l,d,h),Jo(),U=i.memoizedState,T||B!==U||_r?(typeof $=="function"&&(Kf(i,a,$,l),U=i.memoizedState),(R=_r||py(i,a,R,l,B,U,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(e,i),v=i.memoizedProps,Y=Ls(a,v),d.props=Y,$=i.pendingProps,B=d.context,U=a.contextType,R=Ra,typeof U=="object"&&U!==null&&(R=Ge(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||B!==R)&&gy(i,d,l,R),_r=!1,B=i.memoizedState,d.state=B,tl(i,l,d,h),Jo();var q=i.memoizedState;v!==$||B!==q||_r||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof T=="function"&&(Kf(i,a,T,l),q=i.memoizedState),(Y=_r||py(i,a,Y,l,B,q,R)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=xa(i,e.child,null,h),i.child=xa(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=zi(e,i,h),e}function Oy(e,i,a,l){return Go(),i.flags|=256,Le(e,i,a,l),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:_g()}}function Zf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function My(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?Sr(i):Ar(),Bt){var T=ue,R;if(R=T){t:{for(R=T,T=li;R.nodeType!==8;){if(!T){T=null;break t}if(R=Kn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},R=fn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,ue=null,R=!0):R=!1}R||Ms(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return kd(T)?i.lanes=32:i.lanes=536870912,null;Ui(i)}return T=l.children,l=l.fallback,h?(Ar(),h=i.mode,T=uc({mode:"hidden",children:T},h),l=Cs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Wf(a),h.childLanes=Zf(e,v,a),i.memoizedState=Xf,l):(Sr(i),Jf(i,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Sr(i),i.flags&=-257,i=td(e,i,a)):i.memoizedState!==null?(Ar(),i.child=e.child,i.flags|=128,i=null):(Ar(),h=l.fallback,T=i.mode,l=uc({mode:"visible",children:l.children},T),h=Cs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xa(i,e.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=Zf(e,v,a),i.memoizedState=Xf,i=h);else if(Sr(i),kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,Ko({value:l,source:null,stack:null}),i=td(e,i,a)}else if(Ne||Yo(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Zt,v!==null&&(l=a&-a,l=(l&42)!==0?1:bo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ba(e,l),yn(v,e,l),Ay;T.data==="$?"||_d(),i=td(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ue=Kn(T.nextSibling),en=i,Bt=!0,Os=null,li=!1,e!==null&&(Rn[In++]=Vi,Rn[In++]=Pi,Rn[In++]=Ds,Vi=e.id,Pi=e.overflow,Ds=i),i=Jf(i,l.children),i.flags|=4096);return i}return h?(Ar(),h=l.fallback,T=i.mode,R=e.child,U=R.sibling,l=Mi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?h=Mi(U,h):(h=Cs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Wf(a):(R=T.cachePool,R!==null?(U=we._currentValue,R=R.parent!==U?{parent:U,pool:U}:R):R=_g(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Zf(e,v,a),i.memoizedState=Xf,l):(Sr(i),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Jf(e,i){return i=uc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uc(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function td(e,i,a){return xa(i,e.child,null,a),e=Jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),_f(e.return,i,a)}function ed(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Py(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,a,i);else if(e.tag===19)Vy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&sc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&sc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ed(i,!0,a,null,d);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Yo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Mi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function nd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function VA(e,i,a){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),yr(i,we,e.memoizedState.cache),Go();break;case 27:case 5:To(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(e,i,a):(Sr(i),e=zi(e,i,a),e!==null?e.sibling:null);Sr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Yo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Iy(e,i,a);case 24:yr(i,we,e.memoizedState.cache)}return zi(e,i,a)}function ky(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!nd(e,a)&&(i.flags&128)===0)return Ne=!1,VA(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&hg(i,ju,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")hf(l)?(e=Ls(l,e),i.tag=1,i=Ny(null,i,l,e,a)):(i.tag=0,i=$f(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Rt){i.tag=11,i=wy(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=by(null,i,l,e,a);break t}}throw i=le(l)||l,Error(s(306,i,""))}}return i;case 0:return $f(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Ny(e,i,l,h,a);case 3:t:{if(Gt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(e,i),tl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,yr(i,we,l),l!==d.cache&&vf(i,[we],a,!0),Jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Oy(e,i,l,a);break t}else if(l!==h){h=wn(Error(s(424)),i),Ko(h),i=Oy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Kn(e.firstChild),en=i,Bt=!0,Os=null,li=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){i=zi(e,i,a);break t}Le(e,i,l,a)}i=i.child}return i;case 26:return lc(e,i),e===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=Ac(vt.current).createElement(a),l[fe]=i,l[xe]=e,ze(l,a,e),de(l),i.stateNode=l):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return To(i),e===null&&Bt&&(l=i.stateNode=x_(i.type,i.pendingProps,vt.current),en=i,li=!0,h=ue,Mr(i.type)?(xd=h,ue=Kn(l.firstChild)):ue=h),Le(e,i,i.pendingProps.children,a),lc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ue)&&(l=ow(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,en=i,ue=Kn(l.firstChild),li=!1,h=!0):h=!1),h||Ms(i)),To(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,bA,null,null,a),Sl._currentValue=h),lc(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ue)&&(a=lw(a,i.pendingProps,li),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Ms(i)),null;case 13:return My(e,i,a);case 4:return Gt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xa(i,null,l,a):Le(e,i,l,a),i.child;case 11:return wy(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=Ge(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return by(e,i,i.type,i.pendingProps,a);case 15:return Ry(e,i,i.type,i.pendingProps,a);case 19:return Py(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=uc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Iy(e,i,a);case 24:return Ps(i),l=Ge(we),e===null?(h=Sf(),h===null&&(h=Zt,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),yr(i,we,h)):((e.lanes&a)!==0&&(bf(e,i),tl(i,null,null,a),Jo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,we,l)):(l=d.cache,yr(i,we,l),l!==h.cache&&vf(i,[we],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(e){e.flags|=4}function xy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i)){if(i=Cn.current,i!==null&&((xt&4194048)===xt?ui!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==ui))throw Wo=Af,vg;e.flags|=8192}}function cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?rr():536870912,e.lanes|=i,Ba|=i)}function ol(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function PA(e,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(we),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fo(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),se(i),null;case 26:return a=i.memoizedState,e===null?(Bi(i),a!==null?(se(i),xy(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Bi(i),se(i),xy(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==l&&Bi(i),se(i),i.flags&=-16777217),null;case 27:sa(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=ft.current,Fo(i)?fg(i):(e=x_(h,l,a),i.stateNode=e,Bi(i))}return se(i),null;case 5:if(sa(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(e=ft.current,Fo(i))fg(i);else{switch(h=Ac(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[fe]=i,e[xe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Bi(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,Fo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[fe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(e.nodeValue,a)),e||Ms(i)}else e=Ac(e).createTextNode(l),e[fe]=i,i.stateNode=e}return se(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[fe]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),se(i),null;case 4:return xn(),e===null&&Id(i.stateNode.containerInfo),se(i),null;case 10:return xi(i.type),se(i),null;case 19:if(at(be),h=i.memoizedState,h===null)return se(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=sc(e),d!==null){for(i.flags|=128,ol(h,!1),e=d.updateQueue,i.updateQueue=e,cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)cg(a,e),a=a.sibling;return it(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>dc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(e=sc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,cc(i,e),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return se(i),null}else 2*nn()-h.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=be.current,it(be,l?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Ui(i),Df(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&at(ks),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(we),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kA(e,i){switch(pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(we),xn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 13:if(Ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(be),null;case 4:return xn(),null;case 10:return xi(i.type),null;case 22:case 23:return Ui(i),Df(),e!==null&&at(ks),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(we),null;case 25:return null;default:return null}}function Ly(e,i){switch(pf(i),i.tag){case 3:xi(we),xn();break;case 26:case 27:case 5:sa(i);break;case 4:xn();break;case 13:Ui(i);break;case 19:at(be);break;case 10:xi(i.type);break;case 22:case 23:Ui(i),Df(),e!==null&&at(ks);break;case 24:xi(we)}}function ll(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Xt(i,i.return,T)}}function wr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,U=T;try{U()}catch(Y){Xt(h,R,Y)}}}l=l.next}while(l!==d)}}catch(Y){Xt(i,i.return,Y)}}function Uy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{bg(i,a)}catch(l){Xt(e,e.return,l)}}}function zy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Xt(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function By(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function id(e,i,a){try{var l=e.stateNode;nw(l,e.type,a,i),l[xe]=i}catch(h){Xt(e,e.return,h)}}function qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mr(e.type)||e.tag===4}function rd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sc));else if(l!==4&&(l===27&&Mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(sd(e,i,a),e=e.sibling;e!==null;)sd(e,i,a),e=e.sibling}function hc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hc(e,i,a),e=e.sibling;e!==null;)hc(e,i,a),e=e.sibling}function jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,a),i[fe]=e,i[xe]=a}catch(d){Xt(e,e.return,d)}}var qi=!1,ge=!1,ad=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function xA(e,i){if(e=e.containerInfo,Nd=Dc,e=tg(e),rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,U=0,Y=0,$=e,B=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||l!==0&&$.nodeType!==3||(R=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===a&&++U===h&&(T=v),B===d&&++Y===l&&(R=v),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Dc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=Ls(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function Fy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),l&4&&ll(5,a);break;case 1:if(br(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&Uy(a),l&512&&ul(a,a.return);break;case 3:if(br(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{bg(e,i)}catch(v){Xt(a,a.return,v)}}break;case 27:i===null&&l&4&&jy(a);case 26:case 5:br(e,a),i===null&&l&4&&By(a),l&512&&ul(a,a.return);break;case 12:br(e,a);break;case 13:br(e,a),l&4&&Yy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=GA.bind(null,a),uw(e,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||ge,h=qi;var d=ge;qi=l,(ge=i)&&!d?Rr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),qi=h,ge=d}break;case 30:break;default:br(e,a)}}function Gy(e){var i=e.alternate;i!==null&&(e.alternate=null,Gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ca(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,sn=!1;function ji(e,i,a){for(a=a.child;a!==null;)Ky(e,i,a),a=a.sibling}function Ky(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:ge||ci(a,i),ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ci(a,i);var l=ne,h=sn;Mr(a.type)&&(ne=a.stateNode,sn=!1),ji(e,i,a),_l(a.stateNode),ne=l,sn=h;break;case 5:ge||ci(a,i);case 6:if(l=ne,h=sn,ne=null,ji(e,i,a),ne=l,sn=h,ne!==null)if(sn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){Xt(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){Xt(a,i,d)}break;case 18:ne!==null&&(sn?(e=ne,P_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):P_(ne,a.stateNode));break;case 4:l=ne,h=sn,ne=a.stateNode.containerInfo,sn=!0,ji(e,i,a),ne=l,sn=h;break;case 0:case 11:case 14:case 15:ge||wr(2,a,i),ge||wr(4,a,i),ji(e,i,a);break;case 1:ge||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zy(a,i,l)),ji(e,i,a);break;case 21:ji(e,i,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,ji(e,i,a),ge=l;break;default:ji(e,i,a)}}function Yy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){Xt(i,i.return,a)}}function LA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Hy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Hy),i;default:throw Error(s(435,e.tag))}}function od(e,i){var a=LA(e);i.forEach(function(l){var h=KA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){ne=T.stateNode,sn=!1;break t}break;case 5:ne=T.stateNode,sn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Ky(d,v,h),ne=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Qy(i,e),i=i.sibling}var Gn=null;function Qy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(wr(3,e,e.return),ll(3,e),wr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(ge||a===null||ci(a,a.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(dn(i,e),mn(e),l&512&&(ge||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[fe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[fe]=e,de(d),l=d;break t;case"link":var v=j_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=j_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[fe]=e,de(d),l=d}e.stateNode=l}else H_(h,e.type,e.stateNode);else e.stateNode=q_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?H_(h,e.type,e.stateNode):q_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&id(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(ge||a===null||ci(a,a.return)),a!==null&&l&4&&id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(ge||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(q){Xt(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,id(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Xt(e,e.return,q)}}break;case 3:if(Rc=null,h=Gn,Gn=wc(i.containerInfo),dn(i,e),Gn=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(q){Xt(e,e.return,q)}ad&&(ad=!1,$y(e));break;case 4:l=Gn,Gn=wc(e.stateNode.containerInfo),dn(i,e),mn(e),Gn=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,od(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,U=qi,Y=ge;if(qi=U||h,ge=Y||R,dn(i,e),ge=Y,qi=U,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||qi||ge||Us(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(R,R.return,q)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){Xt(R,R.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,od(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,od(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=rd(e);hc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=rd(e);hc(e,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,U=rd(e);sd(e,U,R);break;default:throw Error(s(161))}}catch(Y){Xt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(e,i.alternate,i),i=i.sibling}function Us(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Us(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zy(i,i.return,a),Us(i);break;case 27:_l(i.stateNode);case 26:case 5:ci(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}e=e.sibling}}function Rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),ll(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Xt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)wg(R[h],T)}catch(U){Xt(l,l.return,U)}}a&&v&64&&Uy(d),ul(d,d.return);break;case 27:jy(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&By(d),ul(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&Yy(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),ul(d,d.return);break;case 30:break;default:Rr(h,d,a)}i=i.sibling}}function ld(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function ud(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e))}function hi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(e,i,a,l),i=i.sibling}function Xy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,l),h&2048&&ll(9,i);break;case 1:hi(e,i,a,l);break;case 3:hi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){hi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(i,i.return,R)}}else hi(e,i,a,l);break;case 13:hi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(e,i,a,l):cl(e,i):d._visibility&2?hi(e,i,a,l):(d._visibility|=2,La(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ld(v,i);break;case 24:hi(e,i,a,l),h&2048&&ud(i.alternate,i);break;default:hi(e,i,a,l)}}function La(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,T,R,h),ll(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?La(d,v,T,R,h):cl(d,v):(Y._visibility|=2,La(d,v,T,R,h)),h&&U&2048&&ld(v.alternate,v);break;case 24:La(d,v,T,R,h),h&&U&2048&&ud(v.alternate,v);break;default:La(d,v,T,R,h)}i=i.sibling}}function cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&ld(l.alternate,l);break;case 24:cl(a,l),h&2048&&ud(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Ua(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 26:Ua(e),e.flags&hl&&e.memoizedState!==null&&Sw(Gn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e);break;case 3:case 4:var i=Gn;Gn=wc(e.stateNode.containerInfo),Ua(e),Gn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Ua(e),hl=i):Ua(e));break;default:Ua(e)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,t_(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&wr(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,fc(e)):fl(e);break;default:fl(e)}}function fc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,t_(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:wr(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}e=e.sibling}}function t_(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=e;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(Gy(l),l===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var UA={getCacheForType:function(e){var i=Ge(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},zA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,Nt=null,xt=0,Ft=0,pn=null,Ir=!1,za=!1,cd=!1,Hi=0,ce=0,Cr=0,zs=0,hd=0,Dn=0,Ba=0,dl=null,an=null,fd=!1,dd=0,dc=1/0,mc=null,Dr=null,Ue=0,Nr=null,qa=null,ja=0,md=0,pd=null,e_=null,ml=0,gd=null;function gn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(K.T!==null){var e=Da;return e!==0?e:Ad()}return bi()}function n_(){Dn===0&&(Dn=(xt&536870912)===0||Bt?wo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,a){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Or(e,xt,Dn,!1)),he(e,a),((Ht&2)===0||e!==Zt)&&(e===Zt&&((Ht&2)===0&&(zs|=a),ce===4&&Or(e,xt,Dn,!1)),fi(e))}function i_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ir(e,i),h=l?jA(e,i):vd(e,i,!0),d=l;do{if(h===0){za&&!l&&Or(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!BA(a)){h=vd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=dl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ha(T,v).flags|=256),v=vd(T,v,!1),v!==2){if(cd&&!R){T.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),Or(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(l,i,Dn,!Ir);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=dd+300-nn(),10<h)){if(Or(l,i,Dn,!Ir),En(l,0,!0)!==0)break t;l.timeoutHandle=M_(r_.bind(null,l,a,an,mc,fd,i,Dn,zs,Ba,Ir,d,2,-0,0),h);break t}r_(l,a,an,mc,fd,i,Dn,zs,Ba,Ir,d,0,-0,0)}}break}while(!0);fi(e)}function r_(e,i,a,l,h,d,v,T,R,U,Y,$,B,q){if(e.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Tw},Wy(i),$=Aw(),$!==null)){e.cancelPendingCommit=$(h_.bind(null,e,i,d,a,l,h,v,T,R,Y,1,B,q)),Or(e,d,v,!U);return}h_(e,i,d,a,l,h,v,T,R)}function BA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(e,i,a,l){i&=~hd,i&=~zs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-We(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&sr(e,a,i)}function pc(){return(Ht&6)===0?(pl(0),!1):!0}function yd(){if(Nt!==null){if(Ft===0)var e=Nt.return;else e=Nt,ki=Vs=null,Pf(e),ka=null,sl=0,e=Nt;for(;e!==null;)Ly(e.alternate,e),e=e.return;Nt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yd(),Zt=e,Nt=a=Mi(e.current,null),xt=i,Ft=0,pn=null,Ir=!1,za=ir(e,i),cd=!1,Ba=Dn=hd=zs=Cr=ce=0,an=dl=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-We(l),d=1<<h;i|=e[h],l&=~d}return Hi=i,Lu(),a}function s_(e,i){It=null,K.H=nc,i===Xo||i===Ku?(i=Sg(),Ft=3):i===vg?(i=Sg(),Ft=4):Ft=i===Ay?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Nt===null&&(ce=1,oc(e,wn(i,e.current)))}function a_(){var e=K.H;return K.H=nc,e===null?nc:e}function o_(){var e=K.A;return K.A=UA,e}function _d(){ce=4,Ir||(xt&4194048)!==xt&&Cn.current!==null||(za=!0),(Cr&134217727)===0&&(zs&134217727)===0||Zt===null||Or(Zt,xt,Dn,!1)}function vd(e,i,a){var l=Ht;Ht|=2;var h=a_(),d=o_();(Zt!==e||xt!==i)&&(mc=null,Ha(e,i)),i=!1;var v=ce;t:do try{if(Ft!==0&&Nt!==null){var T=Nt,R=pn;switch(Ft){case 8:yd(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var U=Ft;if(Ft=0,pn=null,Fa(e,T,R,U),a&&za){v=0;break t}break;default:U=Ft,Ft=0,pn=null,Fa(e,T,R,U)}}qA(),v=ce;break}catch(Y){s_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,ki=Vs=null,Ht=l,K.H=h,K.A=d,Nt===null&&(Zt=null,xt=0,Lu()),v}function qA(){for(;Nt!==null;)l_(Nt)}function jA(e,i){var a=Ht;Ht|=2;var l=a_(),h=o_();Zt!==e||xt!==i?(mc=null,dc=nn()+500,Ha(e,i)):za=ir(e,i);t:do try{if(Ft!==0&&Nt!==null){i=Nt;var d=pn;e:switch(Ft){case 1:Ft=0,pn=null,Fa(e,i,d,1);break;case 2:case 9:if(Eg(d)){Ft=0,pn=null,u_(i);break}i=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),fi(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Eg(d)?(Ft=0,pn=null,u_(i)):(Ft=0,pn=null,Fa(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||F_(v)){Ft=0,pn=null;var R=T.sibling;if(R!==null)Nt=R;else{var U=T.return;U!==null?(Nt=U,gc(U)):Nt=null}break e}}Ft=0,pn=null,Fa(e,i,d,5);break;case 6:Ft=0,pn=null,Fa(e,i,d,6);break;case 8:yd(),ce=6;break t;default:throw Error(s(462))}}HA();break}catch(Y){s_(e,Y)}while(!0);return ki=Vs=null,K.H=l,K.A=h,Ht=a,Nt!==null?0:(Zt=null,xt=0,Lu(),ce)}function HA(){for(;Nt!==null&&!Kh();)l_(Nt)}function l_(e){var i=ky(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,i===null?gc(e):Nt=i}function u_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Dy(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Dy(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Pf(i);default:Ly(a,i),i=Nt=cg(i,Hi),i=ky(a,i,Hi)}e.memoizedProps=e.pendingProps,i===null?gc(e):Nt=i}function Fa(e,i,a,l){ki=Vs=null,Pf(i),ka=null,sl=0;var h=i.return;try{if(MA(e,h,i,a,xt)){ce=1,oc(e,wn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,oc(e,wn(a,e.current)),Nt=null;return}i.flags&32768?(Bt||l===1?e=!0:za||(xt&536870912)!==0?e=!1:(Ir=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){c_(i,Ir);return}e=i.return;var a=PA(i.alternate,i,Hi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function c_(e,i){do{var a=kA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function h_(e,i,a,l,h,d,v,T,R){e.cancelPendingCommit=null;do yc();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Eu(e,a,d,v,T,R),e===Zt&&(Nt=Zt=null,xt=0),qa=i,Nr=e,ja=a,md=d,pd=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(wi,function(){return g_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,v=Ht,Ht|=4;try{xA(e,i,a)}finally{Ht=v,st.p=h,K.T=l}}Ue=1,f_(),d_(),m_()}}function f_(){if(Ue===1){Ue=0;var e=Nr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Qy(i,e);var d=Od,v=tg(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(R!==null&&rf(T)){var U=R.start,Y=R.end;if(Y===void 0&&(Y=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),Et=T.textContent.length,pt=Math.min(R.start,Et),$t=R.end===void 0?pt:Math.min(R.end,Et);!q.extend&&pt>$t&&(v=$t,$t=pt,pt=v);var P=Zp(T,pt),M=Zp(T,$t);if(P&&M&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var x=$.createRange();x.setStart(P.node,P.offset),q.removeAllRanges(),pt>$t?(q.addRange(x),q.extend(M.node,M.offset)):(x.setEnd(M.node,M.offset),q.addRange(x))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Dc=!!Nd,Od=Nd=null}finally{Ht=h,st.p=l,K.T=a}}e.current=i,Ue=2}}function d_(){if(Ue===2){Ue=0;var e=Nr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Fy(e,i.alternate,i)}finally{Ht=h,st.p=l,K.T=a}}Ue=3}}function m_(){if(Ue===4||Ue===3){Ue=0,So();var e=Nr,i=qa,a=ja,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,qa=Nr=null,p_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Ro(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(er,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,st.p=h}}(ja&3)!==0&&yc(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===gd?ml++:(ml=0,gd=e):ml=0,pl(0)}}function p_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Qo(i)))}function yc(e){return f_(),d_(),m_(),g_()}function g_(){if(Ue!==5)return!1;var e=Nr,i=md;md=0;var a=Ro(ja),l=K.T,h=st.p;try{st.p=32>a?32:a,K.T=null,a=pd,pd=null;var d=Nr,v=ja;if(Ue=0,qa=Nr=null,ja=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Jy(d.current),Xy(d,d.current,v,a),Ht=T,pl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(er,d)}catch{}return!0}finally{st.p=h,K.T=l,p_(e,i)}}function y_(e,i,a){i=wn(a,i),i=Qf(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(he(e,2),fi(e))}function Xt(e,i,a){if(e.tag===3)y_(e,e,a);else for(;i!==null;){if(i.tag===3){y_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){e=wn(a,e),a=Ty(2),l=Er(i,a,2),l!==null&&(Sy(a,l,i,e),he(l,2),fi(l));break}}i=i.return}}function Ed(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),e=FA.bind(null,e,i,a),i.then(e,e))}function FA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(xt&a)===a&&(ce===4||ce===3&&(xt&62914560)===xt&&300>nn()-dd?(Ht&2)===0&&Ha(e,0):hd|=a,Ba===xt&&(Ba=0)),fi(e)}function __(e,i){i===0&&(i=rr()),e=ba(e,i),e!==null&&(he(e,i),fi(e))}function GA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),__(e,a)}function KA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),__(e,a)}function YA(e,i){return rs(e,i)}var _c=null,Ga=null,Td=!1,vc=!1,Sd=!1,Bs=0;function fi(e){e!==Ga&&e.next===null&&(Ga===null?_c=Ga=e:Ga=Ga.next=e),vc=!0,Td||(Td=!0,$A())}function pl(e,i){if(!Sd&&vc){Sd=!0;do for(var a=!1,l=_c;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-We(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=xt,d=En(l,l===Zt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ir(l,d)||(a=!0,S_(l,d));l=l.next}while(a);Sd=!1}}function QA(){v_()}function v_(){vc=Td=!1;var e=0;Bs!==0&&(iw()&&(e=Bs),Bs=0);for(var i=nn(),a=null,l=_c;l!==null;){var h=l.next,d=E_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}pl(e)}function E_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-We(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=la(T,i)):R<=i&&(e.expiredLanes|=T),d&=~T}if(i=Zt,a=xt,a=En(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&oa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ir(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&oa(l),Ro(a)){case 2:case 8:a=Ce;break;case 32:a=wi;break;case 268435456:a=Ao;break;default:a=wi}return l=T_.bind(null,e),a=rs(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&oa(l),e.callbackPriority=2,e.callbackNode=null,2}function T_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yc()&&e.callbackNode!==a)return null;var l=xt;return l=En(e,e===Zt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(i_(e,l,i),E_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?T_.bind(null,e):null)}function S_(e,i){if(yc())return null;i_(e,i,!0)}function $A(){sw(function(){(Ht&6)!==0?rs(Se,QA):v_()})}function Ad(){return Bs===0&&(Bs=wo()),Bs}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bn(""+e)}function w_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function XA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[xe]||null).action),v=l.submitter;v&&(i=(i=v[xe]||null)?A_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new vs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var R=v?w_(h,v):new FormData(h);Hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?w_(h,v):new FormData(h),Hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var wd=0;wd<lf.length;wd++){var bd=lf[wd],WA=bd.toLowerCase(),ZA=bd[0].toUpperCase()+bd.slice(1);Fn(WA,"on"+ZA)}Fn(ig,"onAnimationEnd"),Fn(rg,"onAnimationIteration"),Fn(sg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(pA,"onTransitionRun"),Fn(gA,"onTransitionStart"),Fn(yA,"onTransitionCancel"),Fn(ag,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function b_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Y){ac(Y)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,U=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Y){ac(Y)}h.currentTarget=null,d=R}}}}function Ot(e,i){var a=i[as];a===void 0&&(a=i[as]=new Set);var l=e+"__bubble";a.has(l)||(R_(i,e,2,!1),a.add(l))}function Rd(e,i,a){var l=0;i&&(l|=4),R_(a,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Ec]){e[Ec]=!0,Tu.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Rd("selectionchange",!1,i))}}function R_(e,i,a,l){switch(X_(i)){case 2:var h=Rw;break;case 8:h=Iw;break;default:h=qd}a=h.bind(null,i,a,e),h=void 0,!Ni||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Cd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ei(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}gs(function(){var U=d,Y=Vo(a),$=[];t:{var B=og.get(e);if(B!==void 0){var q=vs,Et=e;switch(e){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":q=Ta;break;case"focusin":Et="focus",q=_a;break;case"focusout":Et="blur",q=_a;break;case"beforeblur":case"afterblur":q=_a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gr;break;case ig:case rg:case sg:q=ko;break;case ag:q=y;break;case"scroll":case"scrollend":q=Ts;break;case"wheel":q=S;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Uo;break;case"toggle":case"beforetoggle":q=j}var pt=(i&4)!==0,$t=!pt&&(e==="scroll"||e==="scrollend"),P=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=U,x;M!==null;){var Q=M;if(x=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||x===null||P===null||(Q=mr(M,P),Q!=null&&pt.push(yl(M,Q,x))),$t)break;M=M.return}0<pt.length&&(B=new q(B,Et,null,a,Y),$.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Mo&&(Et=a.relatedTarget||a.fromElement)&&(ei(Et)||Et[Ri]))break t;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=U,Et=Et?ei(Et):null,Et!==null&&($t=u(Et),pt=Et.tag,Et!==$t||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(q=null,Et=U),q!==Et)){if(pt=ws,Q="onMouseLeave",P="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Uo,Q="onPointerLeave",P="onPointerEnter",M="pointer"),$t=q==null?B:lr(q),x=Et==null?B:lr(Et),B=new pt(Q,M+"leave",q,a,Y),B.target=$t,B.relatedTarget=x,Q=null,ei(Y)===U&&(pt=new pt(P,M+"enter",Et,a,Y),pt.target=x,pt.relatedTarget=$t,Q=pt),$t=Q,q&&Et)e:{for(pt=q,P=Et,M=0,x=pt;x;x=Ka(x))M++;for(x=0,Q=P;Q;Q=Ka(Q))x++;for(;0<M-x;)pt=Ka(pt),M--;for(;0<x-M;)P=Ka(P),x--;for(;M--;){if(pt===P||P!==null&&pt===P.alternate)break e;pt=Ka(pt),P=Ka(P)}pt=null}else pt=null;q!==null&&I_($,B,q,pt,!1),Et!==null&&$t!==null&&I_($,$t,Et,pt,!0)}}t:{if(B=U?lr(U):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var lt=Kp;else if(Fp(B))if(Yp)lt=fA;else{lt=cA;var Ct=uA}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&pa(U.elementType)&&(lt=Kp):lt=hA;if(lt&&(lt=lt(e,U))){Gp($,lt,a,Y);break t}Ct&&Ct(e,B,U),e==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(Ct=U?lr(U):window,e){case"focusin":(Fp(Ct)||Ct.contentEditable==="true")&&(Sa=Ct,sf=U,Ho=null);break;case"focusout":Ho=sf=Sa=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,eg($,a,Y);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":eg($,a,Y)}var ct;if(At)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Hn?qn(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(me&&a.locale!=="ko"&&(Hn||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Hn&&(ct=Iu()):(An=Y,Wt="value"in An?An.value:An.textContent,Hn=!0)),Ct=Tc(U,gt),0<Ct.length&&(gt=new Lo(gt,e,null,a,Y),$.push({event:gt,listeners:Ct}),ct?gt.data=ct:(ct=jn(a),ct!==null&&(gt.data=ct)))),(ct=jt?zo(e,a):aA(e,a))&&(gt=Tc(U,"onBeforeInput"),0<gt.length&&(Ct=new Lo("onBeforeInput","beforeinput",null,a,Y),$.push({event:Ct,listeners:gt}),Ct.data=ct)),XA($,e,U,a,Y)}b_($,i)})}function yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Tc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=mr(e,a),h!=null&&l.unshift(yl(e,h,d)),h=mr(e,i),h!=null&&l.push(yl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||U===null||(R=U,h?(U=mr(a,d),U!=null&&v.unshift(yl(a,U,R))):h||(U=mr(a,d),U!=null&&v.push(yl(a,U,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var tw=/\r\n?/g,ew=/\u0000|\uFFFD/g;function C_(e){return(typeof e=="string"?e:""+e).replace(tw,`
`).replace(ew,"")}function D_(e,i){return i=C_(i),C_(e)===i}function Sc(){}function Qt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":hs(e,"class",l);break;case"tabIndex":hs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,a,l);break;case"style":Oo(e,l,d);break;case"data":if(i!=="object"){hs(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Bn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Bn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Sc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Bn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),cs(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,cs(e,a,l))}}function Dd(e,i,a,l,h,d){switch(a){case"style":Oo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ls.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):cs(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,d,v,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),l&&Qt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,R=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":R=Y;break;case"defaultChecked":U=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Qt(e,i,l,Y,a,null)}}Co(e,d,T,R,U,v,h,!1),hr(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Qt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?fr(e,!!l,i,!1):a!=null&&fr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qt(e,i,v,T,a,null)}Au(e,l,h,d),hr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(e,i,R,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<gl.length;l++)Ot(gl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,U,l,a,null)}return;default:if(pa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Dd(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qt(e,i,T,l,a,null))}function nw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,U=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(q)||Qt(e,i,q,null,l,$)}}for(var B in l){var q=l[B];if($=a[B],l.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==$&&Qt(e,i,B,q,l,$)}}Io(e,v,T,R,U,Y,d,h);return;case"select":q=v=T=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(d)||Qt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Qt(e,i,h,d,l,R)}i=T,a=v,l=q,B!=null?fr(e,!!a,B,!1):!!l!=!!a&&(i!=null?fr(e,!!a,i,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qt(e,i,v,h,l,d)}Su(e,B,q);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Qt(e,i,Et,null,l,B)}for(R in l)if(B=l[R],q=a[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(e,i,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Qt(e,i,pt,null,l,B);for(U in l)if(B=l[U],q=a[U],l.hasOwnProperty(U)&&B!==q&&(B!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Qt(e,i,U,B,l,q)}return;default:if(pa(i)){for(var $t in a)B=a[$t],a.hasOwnProperty($t)&&B!==void 0&&!l.hasOwnProperty($t)&&Dd(e,i,$t,void 0,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||Dd(e,i,Y,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Qt(e,i,P,null,l,B);for($ in l)B=l[$],q=a[$],!l.hasOwnProperty($)||B===q||B==null&&q==null||Qt(e,i,$,B,l,q)}var Nd=null,Od=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function N_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function iw(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(e){return V_.resolve(null).then(e).catch(aw)}:M_;function aw(e){setTimeout(function(){throw e})}function Mr(e){return e==="head"}function P_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&_l(v.documentElement),a&2&&_l(v.body),a&4)for(a=v.head,_l(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[or]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function Pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ow(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function lw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function uw(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var xd=null;function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function x_(e,i,a){switch(i=Ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ca(e)}var Nn=new Map,L_=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=st.d;st.d={f:cw,r:hw,D:fw,C:dw,L:mw,m:pw,X:yw,S:gw,M:_w};function cw(){var e=Fi.f(),i=pc();return e||i}function hw(e){var i=ni(e);i!==null&&i.tag===5&&i.type==="form"?iy(i):Fi.r(e)}var Ya=typeof document>"u"?null:document;function U_(e,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=De(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),de(i),l.head.appendChild(i)))}}function fw(e){Fi.D(e),U_("dns-prefetch",e,null)}function dw(e,i){Fi.C(e,i),U_("preconnect",e,i)}function mw(e,i,a){Fi.L(e,i,a);var l=Ya;if(l&&e&&i){var h='link[rel="preload"][as="'+De(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+De(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+De(a.imageSizes)+'"]')):h+='[href="'+De(e)+'"]';var d=h;switch(i){case"style":d=Qa(e);break;case"script":d=$a(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),ze(i,"link",e),de(i),l.head.appendChild(i)))}}function pw(e,i){Fi.m(e,i);var a=Ya;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),ze(l,"link",e),de(l),a.head.appendChild(l)}}}function gw(e,i,a){Fi.S(e,i,a);var l=Ya;if(l&&e){var h=ur(l).hoistableStyles,d=Qa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Ld(e,a);var R=v=l.createElement("link");de(R),ze(R,"link",e),R._p=new Promise(function(U,Y){R.onload=U,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function yw(e,i){Fi.X(e,i);var a=Ya;if(a&&e){var l=ur(a).hoistableScripts,h=$a(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&Ud(e,i),d=a.createElement("script"),de(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _w(e,i){Fi.M(e,i);var a=Ya;if(a&&e){var l=ur(a).hoistableScripts,h=$a(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&Ud(e,i),d=a.createElement("script"),de(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(e,i,a,l){var h=(h=vt.current)?wc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=ur(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qa(a.href);var d=ur(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(vl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||vw(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=ur(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Qa(e){return'href="'+De(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function B_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function vw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),de(i),e.head.appendChild(i))}function $a(e){return'[src="'+De(e)+'"]'}function El(e){return"script[async]"+e}function q_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+De(a.href)+'"]');if(l)return i.instance=l,de(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),ze(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Qa(a.href);var d=e.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,de(d),d;l=B_(a),(h=Nn.get(h))&&Ld(l,h),d=(e.ownerDocument||e).createElement("link"),de(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=$a(a.src),(h=e.querySelector(El(d)))?(i.instance=h,de(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),Ud(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function j_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[fe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function H_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Ew(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Tl=null;function Tw(){}function Sw(e,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=e.querySelector(vl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ic.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,de(d);return}d=e.ownerDocument||e,a=B_(a),(h=Nn.get(h))&&Ld(a,h),d=d.createElement("link"),de(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ic.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Aw(){if(Tl===null)throw Error(s(475));var e=Tl;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function zd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(ww,e),Cc=null,Ic.call(e))}function ww(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var l=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Sl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function bw(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(e,i,a,l,h,d,v,T,R,U,Y,$){return e=new bw(e,i,a,v,T,R,U,$),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),e}function K_(e){return e?(e=Ra,e):Ra}function Y_(e,i,a,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,i),a!==null&&(yn(a,e,i),Zo(a,e,i))}function Q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){Q_(e,i),(e=e.alternate)&&Q_(e,i)}function $_(e){if(e.tag===13){var i=ba(e,67108864);i!==null&&yn(i,e,67108864),Bd(e,67108864)}}var Dc=!0;function Rw(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,qd(e,i,a,l)}finally{st.p=d,K.T=h}}function Iw(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,qd(e,i,a,l)}finally{st.p=d,K.T=h}}function qd(e,i,a,l){if(Dc){var h=jd(l);if(h===null)Cd(e,i,l,Nc,a),W_(e,l);else if(Dw(h,e,i,a,l))l.stopPropagation();else if(W_(e,l),i&4&&-1<Cw.indexOf(e)){for(;h!==null;){var d=ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-We(v);T.entanglements[1]|=R,v&=~R}fi(d),(Ht&6)===0&&(dc=nn()+500,pl(0))}}break;case 13:T=ba(d,2),T!==null&&yn(T,d,2),pc(),Bd(d,2)}if(d=jd(l),d===null&&Cd(e,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(e,i,l,null,a)}}function jd(e){return e=Vo(e),Hd(e)}var Nc=null;function Hd(e){if(Nc=null,e=ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Nc=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yu()){case Se:return 2;case Ce:return 8;case wi:case Yh:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var Fd=!1,Vr=null,Pr=null,kr=null,Al=new Map,wl=new Map,xr=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(e,i){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ni(i),i!==null&&$_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Dw(e,i,a,l,h){switch(i){case"focusin":return Vr=bl(Vr,e,i,a,l,h),!0;case"dragenter":return Pr=bl(Pr,e,i,a,l,h),!0;case"mouseover":return kr=bl(kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,bl(Al.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,bl(wl.get(d)||null,e,i,a,l,h)),!0}return!1}function Z_(e){var i=ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Xh(e.priority,function(){if(a.tag===13){var l=gn();l=bo(l);var h=ba(a,l);h!==null&&yn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Mo=l,a.target.dispatchEvent(l),Mo=null}else return i=ni(a),i!==null&&$_(i),e.blockedOn=a,!1;i.shift()}return!0}function J_(e,i,a){Oc(e)&&a.delete(i)}function Nw(){Fd=!1,Vr!==null&&Oc(Vr)&&(Vr=null),Pr!==null&&Oc(Pr)&&(Pr=null),kr!==null&&Oc(kr)&&(kr=null),Al.forEach(J_),wl.forEach(J_)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nw)))}var Vc=null;function tv(e){Vc!==e&&(Vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=ni(a);d!==null&&(e.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(e){function i(R){return Mc(R,e)}Vr!==null&&Mc(Vr,e),Pr!==null&&Mc(Pr,e),kr!==null&&Mc(kr,e),Al.forEach(i),wl.forEach(i);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[xe]||null;if(typeof d=="function")v||tv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[xe]||null)T=v.formAction;else if(Hd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),tv(a)}}}function Gd(e){this._internalRoot=e}Pc.prototype.render=Gd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();Y_(a,l,e,i,null,null)},Pc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Y_(e.current,2,null,e,null,null),pc(),i[Ri]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=bi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,e),a===0&&Z_(e)}};var ev=t.version;if(ev!=="19.1.1")throw Error(s(527,ev,"19.1.1"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Ow={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{er=kc.inject(Ow),He=kc}catch{}}return Cl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=yy,d=_y,v=vy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=G_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ri]=i.current,Id(e),new Gd(i)},Cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=yy,v=_y,T=vy,R=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=G_(e,1,!0,i,a??null,l,h,d,v,T,R,U),i.context=K_(null),a=i.current,l=gn(),l=bo(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,i.current.lanes=a,he(i,a),fi(i),e[Ri]=i.current,Id(e),new Pc(i)},Cl.version="19.1.1",Cl}var hv;function qw(){if(hv)return Qd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=Bw(),Qd.exports}var jw=qw();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fv="popstate";function Hw(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),pm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Gl(u))}function s(o,u){kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Gw(t,n,s,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function kn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fw(){return Math.random().toString(36).substring(2,10)}function dv(r,t){return{usr:r.state,key:r.key,idx:t}}function pm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ws(t):t,state:n,key:t&&t.key||s||Fw()}}function Gl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ws(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Gw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let H=E(),et=H==null?null:H-g;g=H,p&&p({action:m,location:Z.location,delta:et})}function I(H,et){m="PUSH";let tt=pm(Z.location,H,et);n&&n(tt,H),g=E()+1;let rt=dv(tt,g),Rt=Z.createHref(tt);try{f.pushState(rt,"",Rt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(Rt)}u&&p&&p({action:m,location:Z.location,delta:1})}function z(H,et){m="REPLACE";let tt=pm(Z.location,H,et);n&&n(tt,H),g=E();let rt=dv(tt,g),Rt=Z.createHref(tt);f.replaceState(rt,"",Rt),u&&p&&p({action:m,location:Z.location,delta:0})}function G(H){return Kw(H)}let Z={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(fv,A),p=H,()=>{o.removeEventListener(fv,A),p=null}},createHref(H){return t(o,H)},createURL:G,encodeLocation(H){let et=G(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:I,replace:z,go(H){return f.go(H)}};return Z}function Kw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ie(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Gl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function WE(r,t,n="/"){return Yw(r,t,n,!1)}function Yw(r,t,n,s){let o=typeof t=="string"?Ws(t):t,u=Xi(o.pathname||"/",n);if(u==null)return null;let f=ZE(r);Qw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=sb(u);m=ib(f[p],g,s)}return m}function ZE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ie(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Yi([s,E.relativePath]),I=n.concat(E);f.children&&f.children.length>0&&(ie(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),ZE(f.children,t,I,A,p)),!(f.path==null&&!f.index)&&t.push({path:A,score:eb(A,f.index),routesMeta:I})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of JE(f.path))u(f,m,!0,p)}),t}function JE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=JE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Qw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:nb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $w=/^:[\w-]+$/,Xw=3,Ww=2,Zw=1,Jw=10,tb=-2,mv=r=>r==="*";function eb(r,t){let n=r.split("/"),s=n.length;return n.some(mv)&&(s+=tb),t&&(s+=Ww),n.filter(o=>!mv(o)).reduce((o,u)=>o+($w.test(u)?Xw:u===""?Zw:Jw),s)}function nb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function ib(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),I=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Yi([u,A.pathname]),pathnameBase:ub(Yi([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=Yi([u,A.pathnameBase]))}return f}function nh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=rb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},I)=>{if(E==="*"){let G=m[I]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const z=m[I];return A&&!z?g[E]=void 0:g[E]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function rb(r,t=!1,n=!0){kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function sb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Xi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function ab(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ws(r):r;return{pathname:n?n.startsWith("/")?n:ob(n,t):t,search:cb(s),hash:hb(o)}}function ob(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fm(r){let t=lb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Gm(r,t,n,s=!1){let o;typeof r=="string"?o=Ws(r):(o={...r},ie(!o.pathname||!o.pathname.includes("?"),Zd("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),Zd("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),Zd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),A-=1;o.pathname=I.join("/")}m=A>=0?t[A]:"/"}let p=ab(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Yi=r=>r.join("/").replace(/\/\/+/g,"/"),ub=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,hb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function fb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var db=["GET",...tT];new Set(db);var ho=F.createContext(null);ho.displayName="DataRouter";var bh=F.createContext(null);bh.displayName="DataRouterState";F.createContext(!1);var eT=F.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var mb=F.createContext(new Map);mb.displayName="Fetchers";var pb=F.createContext(null);pb.displayName="Await";var Wn=F.createContext(null);Wn.displayName="Navigation";var ru=F.createContext(null);ru.displayName="Location";var Ai=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Km=F.createContext(null);Km.displayName="RouteError";function gb(r,{relative:t}={}){ie(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Wn),{hash:o,pathname:u,search:f}=au(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Yi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fo(){return F.useContext(ru)!=null}function es(){return ie(fo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ru).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(r){F.useContext(Wn).static||F.useLayoutEffect(r)}function su(){let{isDataRoute:r}=F.useContext(Ai);return r?Db():yb()}function yb(){ie(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(ho),{basename:t,navigator:n}=F.useContext(Wn),{matches:s}=F.useContext(Ai),{pathname:o}=es(),u=JSON.stringify(Fm(s)),f=F.useRef(!1);return iT(()=>{f.current=!0}),F.useCallback((p,g={})=>{if(kn(f.current,nT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Gm(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}F.createContext(null);function au(r,{relative:t}={}){let{matches:n}=F.useContext(Ai),{pathname:s}=es(),o=JSON.stringify(Fm(n));return F.useMemo(()=>Gm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function _b(r,t){return rT(r,t)}function rT(r,t,n,s,o){ie(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Wn),{matches:f}=F.useContext(Ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let tt=A&&A.path||"";sT(g,!A||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let I=es(),z;if(t){let tt=typeof t=="string"?Ws(t):t;ie(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),z=tt}else z=I;let G=z.pathname||"/",Z=G;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=WE(r,{pathname:Z});kn(A||H!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),kn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=Ab(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Yi([E,u.encodeLocation?u.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Yi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,s,o);return t&&et?F.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},et):et}function vb(){let r=Cb(),t=fb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var Eb=F.createElement(vb,null),Tb=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?F.createElement(Ai.Provider,{value:this.props.routeContext},F.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sb({routeContext:r,match:t,children:n}){let s=F.useContext(ho);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Ai.Provider,{value:r},n)}function Ab(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:A,errors:I}=n,z=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,A)=>{let I,z=!1,G=null,Z=null;n&&(I=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||Eb,m&&(p<0&&A===0?(sT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,Z=null):p===A&&(z=!0,Z=E.route.hydrateFallbackElement||null)));let H=t.concat(u.slice(0,A+1)),et=()=>{let tt;return I?tt=G:z?tt=Z:E.route.Component?tt=F.createElement(E.route.Component,null):E.route.element?tt=E.route.element:tt=g,F.createElement(Sb,{match:E,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:tt})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?F.createElement(Tb,{location:n.location,revalidation:n.revalidation,component:G,error:I,children:et(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):et()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(r){let t=F.useContext(ho);return ie(t,Ym(r)),t}function bb(r){let t=F.useContext(bh);return ie(t,Ym(r)),t}function Rb(r){let t=F.useContext(Ai);return ie(t,Ym(r)),t}function Qm(r){let t=Rb(r),n=t.matches[t.matches.length-1];return ie(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ib(){return Qm("useRouteId")}function Cb(){let r=F.useContext(Km),t=bb("useRouteError"),n=Qm("useRouteError");return r!==void 0?r:t.errors?.[n]}function Db(){let{router:r}=wb("useNavigate"),t=Qm("useNavigate"),n=F.useRef(!1);return iT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{kn(n.current,nT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var pv={};function sT(r,t,n){!t&&!pv[r]&&(pv[r]=!0,kn(!1,n))}F.memo(Nb);function Nb({routes:r,future:t,state:n,unstable_onError:s}){return rT(r,void 0,n,s,t)}function xc({to:r,replace:t,state:n,relative:s}){ie(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Wn);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Ai),{pathname:f}=es(),m=su(),p=Gm(r,Fm(u),f,s==="path"),g=JSON.stringify(p);return F.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function Nl(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ob({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ie(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ws(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:I="default"}=n,z=F.useMemo(()=>{let G=Xi(p,f);return G==null?null:{location:{pathname:G,search:g,hash:E,state:A,key:I},navigationType:s}},[f,p,g,E,A,I,s]);return kn(z!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:F.createElement(Wn.Provider,{value:m},F.createElement(ru.Provider,{children:t,value:z}))}function Mb({children:r,location:t}){return _b(gm(r),t)}function gm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,gm(s.props.children,u));return}ie(s.type===Nl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gm(s.props.children,u)),n.push(f)}),n}var Fc="get",Gc="application/x-www-form-urlencoded";function Rh(r){return r!=null&&typeof r.tagName=="string"}function Vb(r){return Rh(r)&&r.tagName.toLowerCase()==="button"}function Pb(r){return Rh(r)&&r.tagName.toLowerCase()==="form"}function kb(r){return Rh(r)&&r.tagName.toLowerCase()==="input"}function xb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Lb(r,t){return r.button===0&&(!t||t==="_self")&&!xb(r)}var Lc=null;function Ub(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(r){return r!=null&&!zb.has(r)?(kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):r}function Bb(r,t){let n,s,o,u,f;if(Pb(r)){let m=r.getAttribute("action");s=m?Xi(m,t):null,n=r.getAttribute("method")||Fc,o=Jd(r.getAttribute("enctype"))||Gc,u=new FormData(r)}else if(Vb(r)||kb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Xi(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Fc,o=Jd(r.getAttribute("formenctype"))||Jd(m.getAttribute("enctype"))||Gc,u=new FormData(m,r),!Ub()){let{name:g,type:E,value:A}=r;if(E==="image"){let I=g?`${g}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else g&&u.append(g,A)}}else{if(Rh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,s=null,o=Gc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qb(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Xi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Fb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await jb(u,n);return f.links?f.links():[]}return[]}));return Qb(s.flat(1).filter(Hb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gv(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Gb(r,t,{includeHydrateFallback:n}={}){return Kb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Kb(r){return[...new Set(r)]}function Yb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Qb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Yb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function aT(){let r=F.useContext(ho);return $m(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $b(){let r=F.useContext(bh);return $m(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xm=F.createContext(void 0);Xm.displayName="FrameworkContext";function oT(){let r=F.useContext(Xm);return $m(r,"You must render this element inside a <HydratedRouter> element"),r}function Xb(r,t){let n=F.useContext(Xm),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,I=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=et=>{et.forEach(tt=>{f(tt.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return I.current&&H.observe(I.current),()=>{H.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let z=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Dl(m,z),onBlur:Dl(p,G),onMouseEnter:Dl(g,z),onMouseLeave:Dl(E,G),onTouchStart:Dl(A,z)}]:[!1,I,{}]}function Dl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Wb({page:r,...t}){let{router:n}=aT(),s=F.useMemo(()=>WE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(Jb,{page:r,matches:s,...t}):null}function Zb(r){let{manifest:t,routeModules:n}=oT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return Fb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Jb({page:r,matches:t,...n}){let s=es(),{manifest:o,routeModules:u}=oT(),{basename:f}=aT(),{loaderData:m,matches:p}=$b(),g=F.useMemo(()=>gv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=F.useMemo(()=>gv(r,t,p,o,s,"assets"),[r,t,p,o,s]),A=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Z=!1;if(t.forEach(et=>{let tt=o.routes[et.route.id];!tt||!tt.hasLoader||(!g.some(rt=>rt.route.id===et.route.id)&&et.route.id in m&&u[et.route.id]?.shouldRevalidate||tt.hasClientLoader?Z=!0:G.add(et.route.id))}),G.size===0)return[];let H=qb(r,f,"data");return Z&&G.size>0&&H.searchParams.set("_routes",t.filter(et=>G.has(et.route.id)).map(et=>et.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,t,r,u]),I=F.useMemo(()=>Gb(E,o),[E,o]),z=Zb(E);return F.createElement(F.Fragment,null,A.map(G=>F.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),I.map(G=>F.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),z.map(({key:G,link:Z})=>F.createElement("link",{key:G,nonce:n.nonce,...Z})))}function tR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.9.1")}catch{}function eR({basename:r,children:t,window:n}){let s=F.useRef();s.current==null&&(s.current=Hw({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>f(p))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(Ob,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...I},z){let{basename:G}=F.useContext(Wn),Z=typeof g=="string"&&uT.test(g),H,et=!1;if(typeof g=="string"&&Z&&(H=g,lT))try{let b=new URL(window.location.href),V=g.startsWith("//")?new URL(b.protocol+g):new URL(g),N=Xi(V.pathname,G);V.origin===b.origin&&N!=null?g=N+V.search+V.hash:et=!0}catch{kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=gb(g,{relative:o}),[rt,Rt,ut]=Xb(s,I),Dt=sR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function O(b){t&&t(b),b.defaultPrevented||Dt(b)}let w=F.createElement("a",{...I,...ut,href:H||tt,onClick:et||u?t:O,ref:tR(z,Rt),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return rt&&!Z?F.createElement(F.Fragment,null,w,F.createElement(Wb,{page:tt})):w});cT.displayName="Link";var nR=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=au(f,{relative:g.relative}),I=es(),z=F.useContext(bh),{navigator:G,basename:Z}=F.useContext(Wn),H=z!=null&&cR(A)&&m===!0,et=G.encodeLocation?G.encodeLocation(A).pathname:A.pathname,tt=I.pathname,rt=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),rt=rt?rt.toLowerCase():null,et=et.toLowerCase()),rt&&Z&&(rt=Xi(rt,Z)||rt);const Rt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let ut=tt===et||!o&&tt.startsWith(et)&&tt.charAt(Rt)==="/",Dt=rt!=null&&(rt===et||!o&&rt.startsWith(et)&&rt.charAt(et.length)==="/"),O={isActive:ut,isPending:Dt,isTransitioning:H},w=ut?t:void 0,b;typeof s=="function"?b=s(O):b=[s,ut?"active":null,Dt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return F.createElement(cT,{...g,"aria-current":w,className:b,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(O):p)});nR.displayName="NavLink";var iR=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Fc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...I},z)=>{let G=lR(),Z=uR(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",et=typeof m=="string"&&uT.test(m),tt=rt=>{if(p&&p(rt),rt.defaultPrevented)return;rt.preventDefault();let Rt=rt.nativeEvent.submitter,ut=Rt?.getAttribute("formmethod")||f;G(Rt||rt.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return F.createElement("form",{ref:z,method:H,action:Z,onSubmit:s?p:tt,...I,"data-discover":!et&&r==="render"?"true":void 0})});iR.displayName="Form";function rR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(r){let t=F.useContext(ho);return ie(t,rR(r)),t}function sR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=su(),p=es(),g=au(r,{relative:u});return F.useCallback(E=>{if(Lb(E,t)){E.preventDefault();let A=n!==void 0?n:Gl(p)===Gl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var aR=0,oR=()=>`__${String(++aR)}__`;function lR(){let{router:r}=hT("useSubmit"),{basename:t}=F.useContext(Wn),n=Ib();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Bb(s,t);if(o.navigate===!1){let E=o.fetcherKey||oR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function uR(r,{relative:t}={}){let{basename:n}=F.useContext(Wn),s=F.useContext(Ai);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(r||".",{relative:t})},f=es();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yi([n,u.pathname])),Gl(u)}function cR(r,{relative:t}={}){let n=F.useContext(eT);ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hT("useViewTransitionState"),o=au(r,{relative:t});if(!n.isTransitioning)return!1;let u=Xi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Xi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nh(o.pathname,f)!=null||nh(o.pathname,u)!=null}const hR=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},fR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let I=(m&15)<<2|g>>6,z=g&63;p||(z=64,f||(I=64)),s.push(n[E],n[A],n[I],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(fT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):fR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new dR;const I=u<<2|m>>4;if(s.push(I),g!==64){const z=m<<4&240|g>>2;if(s.push(z),A!==64){const G=g<<6&192|A;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mR=function(r){const t=fT(r);return dT.encodeByteArray(t,!0)},ih=function(r){return mR(r).replace(/\./g,"")},mT=function(r){try{return dT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=()=>pR().__FIREBASE_DEFAULTS__,yR=()=>{if(typeof process>"u"||typeof yv>"u")return;const r=yv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&mT(r[1]);return t&&JSON.parse(t)},Ih=()=>{try{return hR()||gR()||yR()||_R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pT=r=>Ih()?.emulatorHosts?.[r],vR=r=>{const t=pT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},gT=()=>Ih()?.config,yT=r=>Ih()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const Ll={};function SR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?r.emulator.push(t):r.prod.push(t);return r}function AR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let _v=!1;function vT(r,t){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ll[r]===t||Ll[r]||_v)return;Ll[r]=t;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=SR().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{_v=!0,f()},I}function E(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=AR(s),z=n("text"),G=document.getElementById(z)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),et=n("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const rt=I.element;m(rt),E(H,Z);const Rt=g();p(tt,et),rt.append(tt,G,H,Rt),document.body.appendChild(rt)}u?(G.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function bR(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ET(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DR(){return!bR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function NR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="FirebaseError";class Zn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=OR,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zs.prototype.create)}}class Zs{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?MR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function MR(r,t){return r.replace(VR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const VR=/\{\$([^}]+)}/g;function PR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(vv(u)&&vv(f)){if(!Qr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ol(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ml(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function kR(r,t){const n=new xR(r,t);return n.subscribe.bind(n)}class xR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1e3,zR=2,BR=14400*1e3,qR=.5;function Ev(r,t=UR,n=zR){const s=t*Math.pow(n,r),o=Math.round(qR*s*(Math.random()-.5)*2);return Math.min(BR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r){return r&&r._delegate?r._delegate:r}class $n{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ER;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FR(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(r){return r===qs?void 0:r}function FR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const KR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},YR=Vt.INFO,QR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},$R=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=QR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ch{constructor(t){this.name=t,this._logLevel=YR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const XR=(r,t)=>t.some(n=>r instanceof n);let Tv,Sv;function WR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,ym=new WeakMap,wT=new WeakMap,em=new WeakMap,Wm=new WeakMap;function JR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Fr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),Wm.set(t,r),t}function t1(r){if(ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,t)}let _m={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||wT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function e1(r){_m=r(_m)}function n1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(nm(this),t,...n);return wT.set(s,t.sort?t.sort():[t]),Fr(s)}:ZR().includes(r)?function(...t){return r.apply(nm(this),t),Fr(AT.get(this))}:function(...t){return Fr(r.apply(nm(this),t))}}function i1(r){return typeof r=="function"?n1(r):(r instanceof IDBTransaction&&t1(r),XR(r,WR())?new Proxy(r,_m):r)}function Fr(r){if(r instanceof IDBRequest)return JR(r);if(em.has(r))return em.get(r);const t=i1(r);return t!==r&&(em.set(r,t),Wm.set(t,r)),t}const nm=r=>Wm.get(r);function bT(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Fr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fr(f.result),p.oldVersion,p.newVersion,Fr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const r1=["get","getKey","getAll","getAllKeys","count"],s1=["put","add","delete","clear"],im=new Map;function Av(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=s1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||r1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return im.set(t,u),u}e1(r=>({...r,get:(t,n,s)=>Av(t,n)||r.get(t,n,s),has:(t,n)=>!!Av(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function o1(r){return r.getComponent()?.type==="VERSION"}const vm="@firebase/app",wv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Ch("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",c1="@firebase/analytics",h1="@firebase/app-check-compat",f1="@firebase/app-check",d1="@firebase/auth",m1="@firebase/auth-compat",p1="@firebase/database",g1="@firebase/data-connect",y1="@firebase/database-compat",_1="@firebase/functions",v1="@firebase/functions-compat",E1="@firebase/installations",T1="@firebase/installations-compat",S1="@firebase/messaging",A1="@firebase/messaging-compat",w1="@firebase/performance",b1="@firebase/performance-compat",R1="@firebase/remote-config",I1="@firebase/remote-config-compat",C1="@firebase/storage",D1="@firebase/storage-compat",N1="@firebase/firestore",O1="@firebase/ai",M1="@firebase/firestore-compat",V1="firebase",P1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",k1={[vm]:"fire-core",[l1]:"fire-core-compat",[c1]:"fire-analytics",[u1]:"fire-analytics-compat",[f1]:"fire-app-check",[h1]:"fire-app-check-compat",[d1]:"fire-auth",[m1]:"fire-auth-compat",[p1]:"fire-rtdb",[g1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[_1]:"fire-fn",[v1]:"fire-fn-compat",[E1]:"fire-iid",[T1]:"fire-iid-compat",[S1]:"fire-fcm",[A1]:"fire-fcm-compat",[w1]:"fire-perf",[b1]:"fire-perf-compat",[R1]:"fire-rc",[I1]:"fire-rc-compat",[C1]:"fire-gcs",[D1]:"fire-gcs-compat",[N1]:"fire-fst",[M1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,x1=new Map,Tm=new Map;function bv(r,t){try{r.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ei(r){const t=r.name;if(Tm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,r);for(const n of rh.values())bv(n,r);for(const n of x1.values())bv(n,r);return!0}function Js(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Zs("app","Firebase",L1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=P1;function RT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Em,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=gT()),!n)throw Gr.create("no-options");const u=rh.get(o);if(u){if(Qr(n,u.options)&&Qr(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new GR(o);for(const p of Tm.values())f.addComponent(p);const m=new U1(n,s,f);return rh.set(o,m),m}function Zm(r=Em){const t=rh.get(r);if(!t&&r===Em&&gT())return RT();if(!t)throw Gr.create("no-app",{appName:r});return t}function Pn(r,t,n){let s=k1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(f.join(" "));return}Ei(new $n(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",B1=1,Kl="firebase-heartbeat-store";let rm=null;function IT(){return rm||(rm=bT(z1,B1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function q1(r){try{const n=(await IT()).transaction(Kl),s=await n.objectStore(Kl).get(CT(r));return await n.done,s}catch(t){if(t instanceof Zn)Wi.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(n.message)}}}async function Rv(r,t){try{const s=(await IT()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(t,CT(r)),await s.done}catch(n){if(n instanceof Zn)Wi.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,H1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>H1){const o=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iv(),{heartbeatsToSend:n,unsentEntries:s}=G1(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function G1(r,t=j1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Cv(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function Y1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){Ei(new $n("platform-logger",t=>new a1(t),"PRIVATE")),Ei(new $n("heartbeat",t=>new F1(t),"PRIVATE")),Pn(vm,wv,r),Pn(vm,wv,"esm2020"),Pn("fire-js","")}Q1("");function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $1=DT,NT=new Zs("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Ch("@firebase/auth");function X1(r,...t){sh.logLevel<=Vt.WARN&&sh.warn(`Auth (${po}): ${r}`,...t)}function Kc(r,...t){sh.logLevel<=Vt.ERROR&&sh.error(`Auth (${po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...t){throw Jm(r,...t)}function mi(r,...t){return Jm(r,...t)}function OT(r,t,n){const s={...$1(),[t]:n};return new Zs("auth","Firebase",s).create(t,{appName:r.name})}function Qi(r){return OT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return NT.create(r,...t)}function yt(r,t,...n){if(!r)throw Jm(t,...n)}function Gi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Kc(t),new Error(t)}function Zi(r,t){r||Gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return typeof self<"u"&&self.location?.href||""}function W1(){return Dv()==="http:"||Dv()==="https:"}function Dv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W1()||ET()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile=wR()||IR()}get(){return Z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nI=new lu(3e4,6e4);function ns(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function is(r,t,n,s,o={}){return VT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return RR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),MT.fetch()(await PT(r,r.config.apiHost,n,m),g)})}async function VT(r,t,n){r._canInitEmulator=!1;const s={...tI,...t};try{const o=new rI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw OT(r,E,g);Xn(r,E)}}catch(o){if(o instanceof Zn)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function uu(r,t,n,s,o={}){const u=await is(r,t,n,s,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?tp(r.config,o):`${r.config.apiScheme}://${o}`;return eI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function iI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),nI.get())})}}function Uc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(r,t,s);return o.customData._tokenResponse=n,o}function Nv(r){return r!==void 0&&r.enterprise!==void 0}class sI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return iI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aI(r,t){return is(r,"GET","/v2/recaptchaConfig",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,t){return is(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return is(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lI(r,t=!1){const n=un(r),s=await n.getIdToken(t),o=ep(s);yt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ul(sm(o.auth_time)),issuedAtTime:Ul(sm(o.iat)),expirationTime:Ul(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function ep(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mT(n);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(r){const t=ep(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Zn&&uI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r){const t=r.auth,n=await r.getIdToken(),s=await Yl(r,ah(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?kT(o.providerUserInfo):[],f=fI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function hI(r){const t=un(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function kT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t){const n=await VT(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await PT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&mo(r.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(r,t){return is(r,"POST","/v2/accounts:revokeToken",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=Ov(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(yt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(yt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(yt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lI(this,t)}reload(){return hI(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Qi(this.auth));const t=await this.getIdToken();return await Yl(this,oI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:z,providerData:G,stsTokenManager:Z}=n;yt(A&&Z,t,"internal-error");const H=eo.fromJSON(this.name,Z);yt(typeof A=="string",t,"internal-error"),Ur(s,t.name),Ur(o,t.name),yt(typeof I=="boolean",t,"internal-error"),yt(typeof z=="boolean",t,"internal-error"),Ur(u,t.name),Ur(f,t.name),Ur(m,t.name),Ur(p,t.name),Ur(g,t.name),Ur(E,t.name);const et=new Yn({uid:A,auth:t,email:o,emailVerified:I,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(et.providerData=G.map(tt=>({...tt}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Yn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await oh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];yt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function Ki(r){Zi(r instanceof Function,"Expected a class definition");let t=Mv.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Mv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xT.type="NONE";const Vv=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r,t,n){return`firebase:${r}:${t}:${n}`}class no{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ah(this.auth,{idToken:t}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new no(Ki(Vv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ki(Vv);const f=Yc(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const I=await ah(t,{idToken:E}).catch(()=>{});if(!I)break;A=await Yn._fromGetAccountInfoResponse(t,I,E)}else A=Yn._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new no(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jT(t))return"Blackberry";if(HT(t))return"Webos";if(UT(t))return"Safari";if((t.includes("chrome/")||zT(t))&&!t.includes("edge/"))return"Chrome";if(qT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function LT(r=Xe()){return/firefox\//i.test(r)}function UT(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zT(r=Xe()){return/crios\//i.test(r)}function BT(r=Xe()){return/iemobile/i.test(r)}function qT(r=Xe()){return/android/i.test(r)}function jT(r=Xe()){return/blackberry/i.test(r)}function HT(r=Xe()){return/webos/i.test(r)}function np(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pI(r=Xe()){return np(r)&&!!window.navigator?.standalone}function gI(){return CR()&&document.documentMode===10}function FT(r=Xe()){return np(r)||qT(r)||HT(r)||jT(r)||/windows phone/i.test(r)||BT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t=[]){let n;switch(r){case"Browser":n=Pv(Xe());break;case"Worker":n=`${Pv(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(r,t={}){return is(r,"GET","/v2/passwordPolicy",ns(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=6;class EI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ah(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(On(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(Qi(this));const n=t?un(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _I(this),n=new EI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zs("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ki(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&X1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ta(r){return un(r)}class kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=kR(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(r){Dh=r}function KT(r){return Dh.loadJS(r)}function AI(){return Dh.recaptchaEnterpriseScript}function wI(){return Dh.gapiScript}function bI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RI{constructor(){this.enterprise=new II}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class II{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const CI="recaptcha-enterprise",YT="NO_RECAPTCHA";class DI{constructor(t){this.type=CI,this.auth=ta(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{aI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new sI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Nv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(YT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Nv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AI();p.length!==0&&(p+=m),KT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function xv(r,t,n,s=!1,o=!1){const u=new DI(r);let f;if(o)f=YT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await xv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await xv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r,t){const n=Js(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qr(u,t??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:t})}function OI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ki);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function MI(r,t,n){const s=ta(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=QT(t),{host:f,port:m}=VI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Qr(g,s.config.emulator)&&Qr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(_T(`${u}//${f}${p}`),vT("Auth",!0)):PI()}function QT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function VI(r){const t=QT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Lv(f)}}}function Lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function PI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(t){return Gi("not implemented")}_linkToIdToken(t,n){return Gi("not implemented")}_getReauthenticationResolver(t){return Gi("not implemented")}}async function kI(r,t){return is(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,t){return uu(r,"POST","/v1/accounts:signInWithPassword",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}async function UI(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends ip{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ql(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ql(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(t,n,"signInWithPassword",xI);case"emailLink":return LI(t,{email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(t,s,"signUpPassword",kI);case"emailLink":return UI(t,{idToken:n,email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(r,t){return uu(r,"POST","/v1/accounts:signInWithIdp",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class Gs extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ou(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(r){const t=Ol(Ml(r)).link,n=t?Ol(Ml(t)).deep_link_id:null,s=Ol(Ml(r)).deep_link_id;return(s?Ol(Ml(s)).link:null)||s||n||t||r}class rp{constructor(t){const n=Ol(Ml(t)),s=n.apiKey??null,o=n.oobCode??null,u=BI(n.mode??null);yt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=qI(t);try{return new rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(t,n){return Ql._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=rp.parseLink(n);return yt(s,"argument-error"),Ql._fromEmailAndCode(t,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends cu{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends cu{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cu{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t){return uu(r,"POST","/v1/accounts:signUp",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Yn._fromIdTokenResponse(t,s,o),f=Uv(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Uv(s);return new Ks({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Zn{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new lh(t,n,s,o)}}function XT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,u,t,s):u})}async function HI(r,t,n=!1){const s=await Yl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,t,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(Qi(s));const o="reauthenticate";try{const u=await Yl(r,XT(s,o,t,r),n);yt(u.idToken,s,"internal-error");const f=ep(u.idToken);yt(f,s,"internal-error");const{sub:m}=f;return yt(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,t,n=!1){if(On(r.app))return Promise.reject(Qi(r));const s="signIn",o=await XT(r,s,t),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function GI(r,t){return WT(ta(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r){const t=ta(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function KI(r,t,n){if(On(r.app))return Promise.reject(Qi(r));const s=ta(r),f=await wm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(r),p}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function YI(r,t,n){return On(r.app)?Promise.reject(Qi(r)):GI(un(r),go.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(r),s})}function QI(r,t,n,s){return un(r).onIdTokenChanged(t,n,s)}function $I(r,t,n){return un(r).beforeAuthStateChanged(t,n)}function XI(r,t,n,s){return un(r).onAuthStateChanged(t,n,s)}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1e3,ZI=10;class t0 extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ZI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}t0.type="LOCAL";const JI=t0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}e0.type="SESSION";const n0=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await tC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function nC(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function iC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rC(){return navigator?.serviceWorker?.controller||null}function sC(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firebaseLocalStorageDb",aC=1,ch="firebaseLocalStorage",s0="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function oC(){const r=indexedDB.deleteDatabase(r0);return new hu(r).toPromise()}function bm(){const r=indexedDB.open(r0,aC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ch,{keyPath:s0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ch)?t(s):(s.close(),await oC(),t(await bm()))})})}async function zv(r,t,n){const s=Oh(r,!0).put({[s0]:t,value:n});return new hu(s).toPromise()}async function lC(r,t){const n=Oh(r,!1).get(t),s=await new hu(n).toPromise();return s===void 0?null:s.value}function Bv(r,t){const n=Oh(r,!0).delete(t);return new hu(n).toPromise()}const uC=800,cC=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(sC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bm();return await zv(t,uh,"1"),await Bv(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const hC=a0;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,t){return t?Ki(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dC(r){return WT(r.auth,new ap(r),r.bypassAuthState)}function mC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),FI(n,new ap(r),r.bypassAuthState)}async function pC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),HI(n,new ap(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dC;case"linkViaPopup":case"linkViaRedirect":return pC;case"reauthViaPopup":case"reauthViaRedirect":return mC;default:Xn(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new lu(2e3,1e4);class to extends o0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gC.get())};t()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="pendingRedirect",Qc=new Map;class _C extends o0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const s=await vC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vC(r,t){const n=SC(t),s=TC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EC(r,t){Qc.set(r._key(),t)}function TC(r){return Ki(r._redirectPersistence)}function SC(r){return Yc(yC,r.config.apiKey,r.name)}async function AC(r,t,n=!1){if(On(r.app))return Promise.reject(Qi(r));const s=ta(r),o=fC(s,t),f=await new _C(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=600*1e3;class bC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!l0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(t))}saveEventToCache(t){this.cachedEventUids.add(qv(t)),this.lastProcessedEventTime=Date.now()}}function qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function l0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function RC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,t={}){return is(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function NC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await IC(r);for(const n of t)try{if(OC(n))return}catch{}Xn(r,"unauthorized-domain")}function OC(r){const t=Sm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!DC.test(n))return!1;if(CC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new lu(3e4,6e4);function jv(){const r=pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VC(r){return new Promise((t,n)=>{function s(){jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(mi(r,"network-request-failed"))},timeout:MC.get()})}if(pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(pi().gapi?.load)s();else{const o=bI("iframefcb");return pi()[o]=()=>{gapi.load?s():n(mi(r,"network-request-failed"))},KT(`${wI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw $c=null,t})}let $c=null;function PC(r){return $c=$c||VC(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new lu(5e3,15e3),xC="__/auth/iframe",LC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?tp(t,LC):`https://${r.config.authDomain}/${xC}`,s={apiKey:t.apiKey,appName:r.name,v:po},o=zC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function qC(r){const t=await PC(r),n=pi().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:BC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},kC.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HC=500,FC=600,GC="_blank",KC="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YC(r,t,n,s=HC,o=FC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...jC,width:s.toString(),height:o.toString(),top:u,left:f},g=Xe().toLowerCase();n&&(m=zT(g)?GC:n),LT(g)&&(t=t||KC,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[z,G])=>`${I}${z}=${G},`,"");if(pI(g)&&m!=="_self")return QC(t||"",m),new Hv(null);const A=window.open(t||"",m,E);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new Hv(A)}function QC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",XC="emulator/auth/handler",WC=encodeURIComponent("fac");async function Fv(r,t,n,s,o,u){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(t instanceof $T){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",PR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof cu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${WC}=${encodeURIComponent(p)}`:"";return`${ZC(r)}?${ou(m).slice(1)}${g}`}function ZC({config:r}){return r.emulator?tp(r,XC):`https://${r.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class JC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=AC,this._overrideRedirectResult=EC}async _openPopup(t,n,s,o){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Fv(t,n,s,Sm(),o);return YC(t,u,sp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Fv(t,n,s,Sm(),o);return nC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await qC(t),s=new bC(t);return n.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||UT()||np()}}const t2=JC;var Gv="@firebase/auth",Kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(r){Ei(new $n("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;yt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(r)},g=new TI(s,o,u,p);return OI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ei(new $n("auth-internal",t=>{const n=ta(t.getProvider("auth").getImmediate());return(s=>new e2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Gv,Kv,n2(r)),Pn(Gv,Kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=300,s2=yT("authIdTokenMaxAge")||r2;let Yv=null;const a2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>s2)return;const o=n?.token;Yv!==o&&(Yv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o2(r=Zm()){const t=Js(r,"auth");if(t.isInitialized())return t.getImmediate();const n=NI(r,{popupRedirectResolver:t2,persistence:[hC,JI,n0]}),s=yT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=a2(u.toString());$I(n,f,()=>f(n.currentUser)),QI(n,m=>f(m))}}const o=pT("auth");return o&&MI(n,`http://${o}`),n}function l2(){return document.getElementsByTagName("head")?.[0]??document}SI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",l2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");var u2="firebase",c2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(u2,c2,"app");const u0="@firebase/installations",op="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=1e4,h0=`w:${op}`,f0="FIS_v2",h2="https://firebaseinstallations.googleapis.com/v1",f2=3600*1e3,d2="installations",m2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new Zs(d2,m2,p2);function d0(r){return r instanceof Zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0({projectId:r}){return`${h2}/projects/${r}/installations`}function p0(r){return{token:r.token,requestStatus:2,expiresIn:y2(r.expiresIn),creationTime:Date.now()}}async function g0(r,t){const s=(await t.json()).error;return Ys.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function y0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function g2(r,{refreshToken:t}){const n=y0(r);return n.append("Authorization",_2(t)),n}async function _0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function y2(r){return Number(r.replace("s","000"))}function _2(r){return`${f0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=m0(r),o=y0(r),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:f0,appId:r.appId,sdkVersion:h0},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await _0(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:p0(g.authToken)}}else throw await g0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^[cdef][\w-]{21}$/,Rm="";function S2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=A2(r);return T2.test(n)?n:Rm}catch{return Rm}}function A2(r){return E2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function T0(r,t){const n=Mh(r);S0(n,t),w2(n,t)}function S0(r,t){const n=E0.get(r);if(n)for(const s of n)s(t)}function w2(r,t){const n=b2();n&&n.postMessage({key:r,fid:t}),R2()}let js=null;function b2(){return!js&&"BroadcastChannel"in self&&(js=new BroadcastChannel("[Firebase] FID Change"),js.onmessage=r=>{S0(r.data.key,r.data.fid)}),js}function R2(){E0.size===0&&js&&(js.close(),js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebase-installations-database",C2=1,Qs="firebase-installations-store";let om=null;function lp(){return om||(om=bT(I2,C2,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Qs)}}})),om}async function hh(r,t){const n=Mh(r),o=(await lp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&T0(r,t.fid),t}async function A0(r){const t=Mh(r),s=(await lp()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(t),await s.done}async function Vh(r,t){const n=Mh(r),o=(await lp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&T0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(r){let t;const n=await Vh(r.appConfig,s=>{const o=D2(s),u=N2(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Rm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function D2(r){const t=r||{fid:S2(),registrationStatus:0};return w0(t)}function N2(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ys.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=O2(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:M2(r)}:{installationEntry:t}}async function O2(r,t){try{const n=await v2(r,t);return hh(r.appConfig,n)}catch(n){throw d0(n)&&n.customData.serverCode===409?await A0(r.appConfig):await hh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function M2(r){let t=await Qv(r.appConfig);for(;t.registrationStatus===1;)await v0(100),t=await Qv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await up(r);return s||n}return t}function Qv(r){return Vh(r,t=>{if(!t)throw Ys.create("installation-not-found");return w0(t)})}function w0(r){return V2(r)?{fid:r.fid,registrationStatus:0}:r}function V2(r){return r.registrationStatus===1&&r.registrationTime+c0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2({appConfig:r,heartbeatServiceProvider:t},n){const s=k2(r,n),o=g2(r,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:h0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await _0(()=>fetch(s,m));if(p.ok){const g=await p.json();return p0(g)}else throw await g0("Generate Auth Token",p)}function k2(r,{fid:t}){return`${m0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(r,t=!1){let n;const s=await Vh(r.appConfig,u=>{if(!b0(u))throw Ys.create("not-registered");const f=u.authToken;if(!t&&U2(f))return u;if(f.requestStatus===1)return n=x2(r,t),u;{if(!navigator.onLine)throw Ys.create("app-offline");const m=B2(u);return n=L2(r,m),m}});return n?await n:s.authToken}async function x2(r,t){let n=await $v(r.appConfig);for(;n.authToken.requestStatus===1;)await v0(100),n=await $v(r.appConfig);const s=n.authToken;return s.requestStatus===0?cp(r,t):s}function $v(r){return Vh(r,t=>{if(!b0(t))throw Ys.create("not-registered");const n=t.authToken;return q2(n)?{...t,authToken:{requestStatus:0}}:t})}async function L2(r,t){try{const n=await P2(r,t),s={...t,authToken:n};return await hh(r.appConfig,s),n}catch(n){if(d0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await A0(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await hh(r.appConfig,s)}throw n}}function b0(r){return r!==void 0&&r.registrationStatus===2}function U2(r){return r.requestStatus===2&&!z2(r)}function z2(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+f2}function B2(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function q2(r){return r.requestStatus===1&&r.requestTime+c0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r){const t=r,{installationEntry:n,registrationPromise:s}=await up(t);return s?s.catch(console.error):cp(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(r,t=!1){const n=r;return await F2(n),(await cp(n,t)).token}async function F2(r){const{registrationPromise:t}=await up(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){if(!r||!r.options)throw lm("App Configuration");if(!r.name)throw lm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw lm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function lm(r){return Ys.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="installations",K2="installations-internal",Y2=r=>{const t=r.getProvider("app").getImmediate(),n=G2(t),s=Js(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Q2=r=>{const t=r.getProvider("app").getImmediate(),n=Js(t,R0).getImmediate();return{getId:()=>j2(n),getToken:o=>H2(n,o)}};function $2(){Ei(new $n(R0,Y2,"PUBLIC")),Ei(new $n(K2,Q2,"PRIVATE"))}$2();Pn(u0,op);Pn(u0,op,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="analytics",X2="firebase_id",W2="origin",Z2=60*1e3,J2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Ch("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Zs("analytics","Analytics",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){if(!r.startsWith(hp)){const t=_n.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(t.message),""}return r}function I0(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function nD(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function iD(r,t){const n=nD("firebase-js-sdk-policy",{createScriptURL:eD}),s=document.createElement("script"),o=`${hp}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function rD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function sD(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const p=(await I0(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){ln.error(m)}r("config",o,u)}async function aD(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await I0(n);for(const p of f){const g=m.find(A=>A.measurementId===p),E=g&&t[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){ln.error(u)}}function oD(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await aD(r,t,n,m,p)}else if(u==="config"){const[m,p]=f;await sD(r,t,n,s,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,g]=f;r("get",m,p,g)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){ln.error(m)}}return o}function lD(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=oD(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function uD(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(hp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=30,hD=1e3;class fD{constructor(t={},n=hD){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const C0=new fD;function dD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function mD(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:dD(n)},o=J2.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function pD(r,t=C0,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw _n.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw _n.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new _D;return setTimeout(async()=>{m.abort()},Z2),D0({appId:s,apiKey:o,measurementId:u},f,m,t)}async function D0(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=C0){const{appId:u,measurementId:f}=r;try{await gD(s,t)}catch(m){if(f)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await mD(r);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!yD(p)){if(o.deleteThrottleMetadata(u),f)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?Ev(n,o.intervalMillis,cD):Ev(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),ln.debug(`Calling attemptFetch again in ${g} millis`),D0(r,E,s,o)}}function gD(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(_n.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function yD(r){if(!(r instanceof Zn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class _D{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function vD(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f={...s,send_to:u};r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(){if(TT())try{await ST()}catch(r){return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TD(r,t,n,s,o,u,f){const m=pD(r);m.then(I=>{n[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>ln.error(I)),t.push(m);const p=ED().then(I=>{if(I)return s.getId()}),[g,E]=await Promise.all([m,p]);uD(u)||iD(u,g.measurementId),o("js",new Date);const A=f?.config??{};return A[W2]="firebase",A.update=!0,E!=null&&(A[X2]=E),o("config",g.measurementId,A),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.app=t}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},Xv=[];const Wv={};let um="dataLayer",AD="gtag",Zv,N0,Jv=!1;function wD(){const r=[];if(ET()&&r.push("This is a browser extension environment."),NR()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:t});ln.warn(n.message)}}function bD(r,t,n){wD();const s=r.options.appId;if(!s)throw _n.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(zl[s]!=null)throw _n.create("already-exists",{id:s});if(!Jv){rD(um);const{wrappedGtag:u,gtagCore:f}=lD(zl,Xv,Wv,um,AD);N0=u,Zv=f,Jv=!0}return zl[s]=TD(r,Xv,Wv,t,Zv,um,n),new SD(r)}function RD(r=Zm()){r=un(r);const t=Js(r,fh);return t.isInitialized()?t.getImmediate():ID(r)}function ID(r,t={}){const n=Js(r,fh);if(n.isInitialized()){const o=n.getImmediate();if(Qr(t,n.getOptions()))return o;throw _n.create("already-initialized")}return n.initialize({options:t})}function CD(r,t,n,s){r=un(r),vD(N0,zl[r.app.options.appId],t,n,s).catch(o=>ln.error(o))}const tE="@firebase/analytics",eE="0.10.18";function DD(){Ei(new $n(fh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return bD(s,o,n)},"PUBLIC")),Ei(new $n("analytics-internal",r,"PRIVATE")),Pn(tE,eE),Pn(tE,eE,"esm2020");function r(t){try{const n=t.getProvider(fh).getImmediate();return{logEvent:(s,o,u)=>CD(n,s,o,u)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}DD();var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,O0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function b(){}b.prototype=w.prototype,O.F=w.prototype,O.prototype=new b,O.prototype.constructor=O,O.D=function(V,N,k){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return w.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,b){b||(b=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(N=0;N<16;++N)V[N]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=O.g[0],b=O.g[1],N=O.g[2];let k=O.g[3],C;C=w+(k^b&(N^k))+V[0]+3614090360&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(N^w&(b^N))+V[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=N+(b^k&(w^b))+V[2]+606105819&4294967295,N=k+(C<<17&4294967295|C>>>15),C=b+(w^N&(k^w))+V[3]+3250441966&4294967295,b=N+(C<<22&4294967295|C>>>10),C=w+(k^b&(N^k))+V[4]+4118548399&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(N^w&(b^N))+V[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=N+(b^k&(w^b))+V[6]+2821735955&4294967295,N=k+(C<<17&4294967295|C>>>15),C=b+(w^N&(k^w))+V[7]+4249261313&4294967295,b=N+(C<<22&4294967295|C>>>10),C=w+(k^b&(N^k))+V[8]+1770035416&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(N^w&(b^N))+V[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=N+(b^k&(w^b))+V[10]+4294925233&4294967295,N=k+(C<<17&4294967295|C>>>15),C=b+(w^N&(k^w))+V[11]+2304563134&4294967295,b=N+(C<<22&4294967295|C>>>10),C=w+(k^b&(N^k))+V[12]+1804603682&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(N^w&(b^N))+V[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=N+(b^k&(w^b))+V[14]+2792965006&4294967295,N=k+(C<<17&4294967295|C>>>15),C=b+(w^N&(k^w))+V[15]+1236535329&4294967295,b=N+(C<<22&4294967295|C>>>10),C=w+(N^k&(b^N))+V[1]+4129170786&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^N&(w^b))+V[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=N+(w^b&(k^w))+V[11]+643717713&4294967295,N=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(N^k))+V[0]+3921069994&4294967295,b=N+(C<<20&4294967295|C>>>12),C=w+(N^k&(b^N))+V[5]+3593408605&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^N&(w^b))+V[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=N+(w^b&(k^w))+V[15]+3634488961&4294967295,N=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(N^k))+V[4]+3889429448&4294967295,b=N+(C<<20&4294967295|C>>>12),C=w+(N^k&(b^N))+V[9]+568446438&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^N&(w^b))+V[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=N+(w^b&(k^w))+V[3]+4107603335&4294967295,N=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(N^k))+V[8]+1163531501&4294967295,b=N+(C<<20&4294967295|C>>>12),C=w+(N^k&(b^N))+V[13]+2850285829&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^N&(w^b))+V[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=N+(w^b&(k^w))+V[7]+1735328473&4294967295,N=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(N^k))+V[12]+2368359562&4294967295,b=N+(C<<20&4294967295|C>>>12),C=w+(b^N^k)+V[5]+4294588738&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^N)+V[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=N+(k^w^b)+V[11]+1839030562&4294967295,N=k+(C<<16&4294967295|C>>>16),C=b+(N^k^w)+V[14]+4259657740&4294967295,b=N+(C<<23&4294967295|C>>>9),C=w+(b^N^k)+V[1]+2763975236&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^N)+V[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=N+(k^w^b)+V[7]+4139469664&4294967295,N=k+(C<<16&4294967295|C>>>16),C=b+(N^k^w)+V[10]+3200236656&4294967295,b=N+(C<<23&4294967295|C>>>9),C=w+(b^N^k)+V[13]+681279174&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^N)+V[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=N+(k^w^b)+V[3]+3572445317&4294967295,N=k+(C<<16&4294967295|C>>>16),C=b+(N^k^w)+V[6]+76029189&4294967295,b=N+(C<<23&4294967295|C>>>9),C=w+(b^N^k)+V[9]+3654602809&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^N)+V[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=N+(k^w^b)+V[15]+530742520&4294967295,N=k+(C<<16&4294967295|C>>>16),C=b+(N^k^w)+V[2]+3299628645&4294967295,b=N+(C<<23&4294967295|C>>>9),C=w+(N^(b|~k))+V[0]+4096336452&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~N))+V[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=N+(w^(k|~b))+V[14]+2878612391&4294967295,N=k+(C<<15&4294967295|C>>>17),C=b+(k^(N|~w))+V[5]+4237533241&4294967295,b=N+(C<<21&4294967295|C>>>11),C=w+(N^(b|~k))+V[12]+1700485571&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~N))+V[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=N+(w^(k|~b))+V[10]+4293915773&4294967295,N=k+(C<<15&4294967295|C>>>17),C=b+(k^(N|~w))+V[1]+2240044497&4294967295,b=N+(C<<21&4294967295|C>>>11),C=w+(N^(b|~k))+V[8]+1873313359&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~N))+V[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=N+(w^(k|~b))+V[6]+2734768916&4294967295,N=k+(C<<15&4294967295|C>>>17),C=b+(k^(N|~w))+V[13]+1309151649&4294967295,b=N+(C<<21&4294967295|C>>>11),C=w+(N^(b|~k))+V[4]+4149444226&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~N))+V[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=N+(w^(k|~b))+V[2]+718787259&4294967295,N=k+(C<<15&4294967295|C>>>17),C=b+(k^(N|~w))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.v=function(O,w){w===void 0&&(w=O.length);const b=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=b;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<w;)if(V[N++]=O.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<w;)if(V[N++]=O[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;w=this.o*8;for(var b=O.length-8;b<O.length;++b)O[b]=w&255,w/=256;for(this.v(O),O=Array(16),w=0,b=0;b<4;++b)for(let V=0;V<32;V+=8)O[w++]=this.g[b]>>>V&255;return O};function u(O,w){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=w(O)}function f(O,w){this.h=w;const b=[];let V=!0;for(let N=O.length-1;N>=0;N--){const k=O[N]|0;V&&k==w||(b[N]=k,V=!1)}this.g=b}var m={};function p(O){return-128<=O&&O<128?u(O,function(w){return new f([w|0],w<0?-1:0)}):new f([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(O<0)return H(g(-O));const w=[];let b=1;for(let V=0;O>=b;V++)w[V]=O/b|0,b*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return H(E(O.substring(1),w));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=g(Math.pow(w,8));let V=A;for(let k=0;k<O.length;k+=8){var N=Math.min(8,O.length-k);const C=parseInt(O.substring(k,k+N),w);N<8?(N=g(Math.pow(w,N)),V=V.j(N).add(g(C))):(V=V.j(b),V=V.add(g(C)))}return V}var A=p(0),I=p(1),z=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-H(this).m();let O=0,w=1;for(let b=0;b<this.g.length;b++){const V=this.i(b);O+=(V>=0?V:4294967296+V)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(Z(this))return"-"+H(this).toString(O);const w=g(Math.pow(O,6));var b=this;let V="";for(;;){const N=Rt(b,w).g;b=et(b,N.j(w));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(O);if(b=N,G(b))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(let w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function Z(O){return O.h==-1}r.l=function(O){return O=et(this,O),Z(O)?-1:G(O)?0:1};function H(O){const w=O.g.length,b=[];for(let V=0;V<w;V++)b[V]=~O.g[V];return new f(b,~O.h).add(I)}r.abs=function(){return Z(this)?H(this):this},r.add=function(O){const w=Math.max(this.g.length,O.g.length),b=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(O.i(N)&65535),C=(k>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=C>>>16,k&=65535,C&=65535,b[N]=C<<16|k}return new f(b,b[b.length-1]&-2147483648?-1:0)};function et(O,w){return O.add(H(w))}r.j=function(O){if(G(this)||G(O))return A;if(Z(this))return Z(O)?H(this).j(H(O)):H(H(this).j(O));if(Z(O))return H(this.j(H(O)));if(this.l(z)<0&&O.l(z)<0)return g(this.m()*O.m());const w=this.g.length+O.g.length,b=[];for(var V=0;V<2*w;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<O.g.length;N++){const k=this.i(V)>>>16,C=this.i(V)&65535,le=O.i(N)>>>16,ee=O.i(N)&65535;b[2*V+2*N]+=C*ee,tt(b,2*V+2*N),b[2*V+2*N+1]+=k*ee,tt(b,2*V+2*N+1),b[2*V+2*N+1]+=C*le,tt(b,2*V+2*N+1),b[2*V+2*N+2]+=k*le,tt(b,2*V+2*N+2)}for(O=0;O<w;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=w;O<2*w;O++)b[O]=0;return new f(b,0)};function tt(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function rt(O,w){this.g=O,this.h=w}function Rt(O,w){if(G(w))throw Error("division by zero");if(G(O))return new rt(A,A);if(Z(O))return w=Rt(H(O),w),new rt(H(w.g),H(w.h));if(Z(w))return w=Rt(O,H(w)),new rt(H(w.g),w.h);if(O.g.length>30){if(Z(O)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var b=I,V=w;V.l(O)<=0;)b=ut(b),V=ut(V);var N=Dt(b,1),k=Dt(V,1);for(V=Dt(V,2),b=Dt(b,2);!G(V);){var C=k.add(V);C.l(O)<=0&&(N=N.add(b),k=C),V=Dt(V,1),b=Dt(b,1)}return w=et(O,N.j(w)),new rt(N,w)}for(N=A;O.l(w)>=0;){for(b=Math.max(1,Math.floor(O.m()/w.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(b),C=k.j(w);Z(C)||C.l(O)>0;)b-=V,k=g(b),C=k.j(w);G(k)&&(k=I),N=N.add(k),O=et(O,C)}return new rt(N,O)}r.B=function(O){return Rt(this,O).h},r.and=function(O){const w=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)&O.i(V);return new f(b,this.h&O.h)},r.or=function(O){const w=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)|O.i(V);return new f(b,this.h|O.h)},r.xor=function(O){const w=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<w;V++)b[V]=this.i(V)^O.i(V);return new f(b,this.h^O.h)};function ut(O){const w=O.g.length+1,b=[];for(let V=0;V<w;V++)b[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(b,O.h)}function Dt(O,w){const b=w>>5;w%=32;const V=O.g.length-b,N=[];for(let k=0;k<V;k++)N[k]=w>0?O.i(k+b)>>>w|O.i(k+b+1)<<32-w:O.i(k+b);return new f(N,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,O0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Kr=f}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M0,Vl,V0,Xc,Im,P0,k0,x0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in _))break t;_=_[L]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,L,j){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return y.prototype[L].apply(S,nt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const L=arguments[S];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=c.length||0;const j=L.length||0;c.length=_+j;for(let nt=0;nt<j;nt++)c[_+nt]=L[nt]}else c.push(L)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function et(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,_){const S=rt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new Z(()=>new Rt,c=>c.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Dt=!1,O=new tt,w=()=>{const c=Promise.resolve(void 0);ut=()=>{c.then(b)}};function b(){for(var c;c=et();){try{c.h.call(c.g)}catch(_){H(_)}var y=rt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function le(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}A(le,N),le.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),K=0;function st(c,y,_,S,L){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=L,this.key=++K,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function W(c){const y={};for(const _ in c)y[_]=c[_];return y}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,y){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)c[_]=S[_];for(let j=0;j<at.length;j++)_=at[j],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,y,_,S,L){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const nt=vt(c,y,S,L);return nt>-1?(y=c[nt],_||(y.fa=!1)):(y=new st(y,this.src,j,!!S,L),y.fa=_,c.push(y)),y};function Mt(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],L=Array.prototype.indexOf.call(S,y,void 0),j;(j=L>=0)&&Array.prototype.splice.call(S,L,1),j&&(dt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vt(c,y,_,S){for(let L=0;L<c.length;++L){const j=c[L];if(!j.da&&j.listener==y&&j.capture==!!_&&j.ha==S)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Gt={};function xn(c,y,_,S,L){if(Array.isArray(y)){for(let j=0;j<y.length;j++)xn(c,y[j],_,S,L);return null}return _=yu(_),c&&c[ee]?c.J(y,_,m(S)?!!S.capture:!1,L):To(c,y,_,!1,S,L)}function To(c,y,_,S,L,j){if(!y)throw Error("Invalid event type");const nt=m(L)?!!L.capture:!!L;let At=So(c);if(At||(c[ke]=At=new ft(c)),_=At.add(y,_,S,nt,j),_.proxy)return _;if(S=sa(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)k||(L=nt),L===void 0&&(L=!1),c.addEventListener(y.toString(),S,L);else if(c.attachEvent)c.attachEvent(oa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sa(){function c(_){return y.call(c.src,c.listener,_)}const y=Kh;return c}function aa(c,y,_,S,L){if(Array.isArray(y))for(var j=0;j<y.length;j++)aa(c,y[j],_,S,L);else S=m(S)?!!S.capture:!!S,_=yu(_),c&&c[ee]?(c=c.i,j=String(y).toString(),j in c.g&&(y=c.g[j],_=vt(y,_,S,L),_>-1&&(dt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[j],c.h--)))):c&&(c=So(c))&&(y=c.g[y.toString()],c=-1,y&&(c=vt(y,_,S,L)),(_=c>-1?y[c]:null)&&rs(_))}function rs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ee])Mt(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(oa(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=So(y))?(Mt(_,c),_.h==0&&(_.src=null,y[ke]=null)):dt(c)}}}function oa(c){return c in Gt?Gt[c]:Gt[c]="on"+c}function Kh(c,y){if(c.da)c=!0;else{y=new le(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&rs(c),c=_.call(S,y)}return c}function So(c){return c=c[ke],c instanceof ft?c:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yu(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(y){return c.handleEvent(y)}),c[nn])}function Se(){V.call(this),this.i=new ft(this),this.M=this,this.G=null}A(Se,V),Se.prototype[ee]=!0,Se.prototype.removeEventListener=function(c,y,_,S){aa(this,c,y,_,S)};function Ce(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var L=y;y=new N(S,c),it(y,L)}L=!0;let j,nt;if(_)for(nt=_.length-1;nt>=0;nt--)j=y.g=_[nt],L=wi(j,S,!0,y)&&L;if(j=y.g=c,L=wi(j,S,!0,y)&&L,L=wi(j,S,!1,y)&&L,_)for(nt=0;nt<_.length;nt++)j=y.g=_[nt],L=wi(j,S,!1,y)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)dt(_[S]);delete c.g[y],c.h--}}this.G=null},Se.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Se.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function wi(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let j=0;j<y.length;++j){const nt=y[j];if(nt&&!nt.da&&nt.capture==_){const At=nt.listener,Jt=nt.ha||nt.src;nt.fa&&Mt(c.i,nt),L=At.call(Jt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Yh(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ao(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,Ao(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qh extends V{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){V.call(this),this.h=c,this.g={}}A(ss,V);var er=[];function He(c){Ut(c.g,function(y,_){this.g.hasOwnProperty(_)&&rs(y)},c),c.g={}}ss.prototype.N=function(){ss.Z.N.call(this),He(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,We=f.JSON.parse,$h=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function _u(){}function vu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nr(){N.call(this,"d")}A(nr,N);function Ln(){N.call(this,"c")}A(Ln,N);var En={},ir=null;function la(){return ir=ir||new Se}En.Ia="serverreachability";function wo(c){N.call(this,En.Ia,c)}A(wo,N);function rr(c){const y=la();Ce(y,new wo(y))}En.STAT_EVENT="statevent";function ua(c,y){N.call(this,En.STAT_EVENT,c),this.stat=y}A(ua,N);function he(c){const y=la();Ce(y,new ua(y,c))}En.Ja="timingevent";function Eu(c,y){N.call(this,En.Ja,c),this.size=y}A(Eu,N);function sr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function ar(){this.g=!0}ar.prototype.ua=function(){this.g=!1};function bo(c,y,_,S,L,j){c.info(function(){if(c.g)if(j){var nt="",At=j.split("&");for(let jt=0;jt<At.length;jt++){var Jt=At[jt].split("=");if(Jt.length>1){const me=Jt[0];Jt=Jt[1];const cn=me.split("_");nt=cn.length>=2&&cn[1]=="type"?nt+(me+"="+Jt+"&"):nt+(me+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+y+`
`+_+`
`+nt})}function Ro(c,y,_,S,L,j,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+y+`
`+_+`
`+j+" "+nt})}function bi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ti(c,_)+(S?" "+S:"")})}function Xh(c,y){c.info(function(){return"TIMEOUT: "+y})}ar.prototype.info=function(){};function ti(c,y){if(!c.g)return y;if(!y)return null;try{const j=JSON.parse(y);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var _=j[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return vn(j)}catch{return y}}var fe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ri;function as(){}A(as,_u),as.prototype.g=function(){return new XMLHttpRequest},Ri=new as;function os(c){return encodeURIComponent(String(c))}function Wh(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Un(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new or}function or(){this.i=null,this.g="",this.h=!1}var ca={},ei={};function ni(c,y,_){c.M=1,c.A=Ci(re(y)),c.u=_,c.R=!0,lr(c,null)}function lr(c,y){c.F=Date.now(),ls(c),c.B=re(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),wu(_.i,"t",S),c.C=0,_=c.j.L,c.h=new or,c.g=Ea(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Qh(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(er[0]=L.toString()),L=er);for(let j=0;j<L.length;j++){const nt=xn(_,L[j],S||y.handleEvent,!1,y.h||y);if(!nt)break;y.g[nt.key]=nt}y=c.J?W(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),rr(),bo(c.i,c.v,c.B,c.l,c.S,c.u)}Un.prototype.ba=function(c){c=c.target;const y=this.O;y&&Fe(c)==3?y.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)t:{const At=Fe(this.g),Jt=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||vs(this.g)))){this.K||At!=4||Jt==7||(Jt==8||jt<=0?rr(3):rr(2)),ri(this);var y=this.g.ca();this.X=y;var _=ur(this);if(this.o=y==200,Ro(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var j=S;break e}}j=null}if(c=j)bi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ha(this,c);else{this.o=!1,this.m=3,he(12),si(this),us(this);break t}}if(this.R){c=!0;let me;for(;!this.K&&this.C<_.length;)if(me=Tu(this,_),me==ei){At==4&&(this.m=4,he(14),c=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==ca){this.m=4,he(15),bi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else bi(this.i,this.l,me,null),ha(this,me);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,he(16),c=!1),this.o=this.o&&c,!c)bi(this.i,this.l,_,"[Invalid Chunked Response]"),si(this),us(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xo(nt),nt.P=!0,he(11))}}else bi(this.i,this.l,_,null),ha(this,_);At==4&&si(this),this.o&&!this.K&&(At==4?Lo(this.j,this):(this.o=!1,ls(this)))}else Es(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),si(this),us(this)}}}catch{}finally{}};function ur(c){if(!de(c))return c.g.la();const y=vs(c.g);if(y==="")return"";let _="";const S=y.length,L=Fe(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return si(c),us(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<S;j++)c.h.h=!0,_+=c.h.i.decode(y[j],{stream:!(L&&j==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function de(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ei:(_=Number(y.substring(_,S)),isNaN(_)?ca:(S+=1,S+_>y.length?ei:(y=y.slice(S,S+_),c.C=S+_,y)))}Un.prototype.cancel=function(){this.K=!0,si(this)};function ls(c){c.T=Date.now()+c.H,ii(c,c.H)}function ii(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=sr(g(c.aa,c),y)}function ri(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Un.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Xh(this.i,this.B),this.M!=2&&(rr(),he(17)),si(this),this.m=2,us(this)):ii(this,this.T-c)};function us(c){c.j.I==0||c.K||Lo(c.j,c)}function si(c){ri(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,He(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ha(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||fs(_.h,c))){if(!c.L&&fs(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)va(_),ai(_);else break t;ko(_),he(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=sr(g(_.Va,_),6e3));Tn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Oi(_,11)}else if((c.L||_.g==c)&&va(_),!C(y))for(L=_.Ba.g.parse(y),y=0;y<L.length;y++){let jt=L[y];const me=jt[0];if(!(me<=_.K))if(_.K=me,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const cn=jt[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const oi=jt[4];oi!=null&&(_.za=oi,_.j.info("SVER="+_.za));const qn=jt[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const jn=c.g;if(jn){const Hn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var j=S.h;j.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fa(j,j.h),j.h=null))}if(S.G){const zo=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(S.wa=zo,Kt(S.J,S.G,zo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var nt=c;if(S.na=Vu(S,S.L?S.ba:null,S.W),nt.L){Ii(S.h,nt);var At=nt,Jt=S.O;Jt&&(At.H=Jt),At.D&&(ri(At),ls(At)),S.g=nt}else Du(S);_.i.length>0&&ws(_)}else jt[0]!="stop"&&jt[0]!="close"||Oi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Oi(_,7):Ss(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}rr(4)}catch{}}var Zh=class{constructor(c,y){this.g=c,this.map=y}};function cs(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tn(c){return c.h?1:c.g?c.g.size:0}function fs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function Ii(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}cs.prototype.cancel=function(){if(this.i=da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function da(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return z(c.i)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let L,j=null;S>=0?(L=c[_].substring(0,S),j=c[_].substring(S+1)):L=c[_],y(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function zn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof zn?(this.l=c.l,cr(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,hr(this,bu(c.i)),this.m=c.m):c&&(y=String(c).match(ma))?(this.l=!1,cr(this,y[1]||"",!0),this.o=ms(y[2]||""),this.g=ms(y[3]||"",!0),ds(this,y[4]),this.h=ms(y[5]||"",!0),hr(this,y[6]||"",!0),this.m=ms(y[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}zn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(De(y,Co,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(De(y,Co,!0),"@"),c.push(os(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(De(_,_.charAt(0)=="/"?fr:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",De(_,Au)),c.join("")},zn.prototype.resolve=function(c){const y=re(this);let _=!!c.j;_?cr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)ds(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=y.h.lastIndexOf("/");L!=-1&&(S=y.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let nt=0;nt<L.length;){const At=L[nt++];At=="."?S&&nt==L.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&nt==L.length&&j.push("")):(j.push(At),S=!0)}S=j.join("/")}else S=L}return _?y.h=S:_=c.i.toString()!=="",_?hr(y,bu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function re(c){return new zn(c)}function cr(c,y,_){c.j=_?ms(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hr(c,y,_){y instanceof Sn?(c.i=y,Mo(c.i,c.l)):(_||(y=De(y,Su)),c.i=new Sn(y,c.l))}function Kt(c,y,_){c.i.set(y,_)}function Ci(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ms(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function De(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Io),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Io(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Do=/[#\?:]/g,fr=/[#\?]/g,Su=/[#\?@]/g,Au=/#/g;function Sn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Sn.prototype,r.add=function(c,y){Di(this),this.i=null,c=Bn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function No(c,y){Di(c),y=Bn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oo(c,y){return Di(c),y=Bn(c,y),c.g.has(y)}r.forEach=function(c,y){Di(this),this.g.forEach(function(_,S){_.forEach(function(L){c.call(y,L,S,this)},this)},this)};function pa(c,y){Di(c);let _=[];if(typeof y=="string")Oo(c,y)&&(_=_.concat(c.g.get(Bn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return Di(this),this.i=null,c=Bn(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=pa(this,c),c.length>0?String(c[0]):y):y};function wu(c,y,_){No(c,y),_.length>0&&(c.i=null,c.g.set(Bn(c,y),z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const L=os(_);_=pa(this,_);for(let j=0;j<_.length;j++){let nt=L;_[j]!==""&&(nt+="="+os(_[j])),c.push(nt)}}return this.i=c.join("&")};function bu(c){const y=new Sn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Bn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Mo(c,y){y&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(_,S){const L=S.toLowerCase();S!=L&&(No(this,S),wu(this,L,_))},c)),c.j=y}function Vo(c,y){const _=new ar;if(f.Image){const S=new Image;S.onload=E(Ze,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Ze,_,"TestLoadImage: error",!1,y,S),S.onabort=E(Ze,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Ze,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function dr(c,y){const _=new ar,S=new AbortController,L=setTimeout(()=>{S.abort(),Ze(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?Ze(_,"TestPingServer: ok",!0,y):Ze(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Ze(_,"TestPingServer: error",!1,y)})}function Ze(c,y,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function Ru(){this.g=new $h}function ps(c){this.i=c.Sb||null,this.h=c.ab||!1}A(ps,_u),ps.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,y){Se.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gs,Se),r=gs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Je(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Je(this):Ni(this),this.readyState==3&&mr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Je(this))},r.Na=function(c){this.g&&(this.response=c,Je(this))},r.ga=function(){this.g&&Je(this)};function Je(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ni(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pr(c){let y="";return Ut(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function An(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=pr(_),typeof c=="string"?_!=null&&os(_):Kt(c,y,_))}function Wt(c){Se.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,Se);var ga=/^https?$/i,Iu=["POST","PUT"];r=Wt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ri.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(j){ys(this,j);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())_.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Iu,y,void 0)>=0)||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of _)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){ys(this,j)}};function ys(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,_s(c),Ae(c)}function _s(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ce(this,"complete"),Ce(this,"abort"),Ae(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ae(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Po(this):this.Xa())},r.Xa=function(){Po(this)};function Po(c){if(c.h&&typeof u<"u"){if(c.v&&Fe(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ce(c,"readystatechange"),Fe(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=j===0){let nt=String(c.D).match(ma)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),S=!ga.test(nt?nt.toLowerCase():"")}_=S}if(_)Ce(c,"complete"),Ce(c,"success");else{c.o=6;try{var L=Fe(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",_s(c)}}finally{Ae(c)}}}}function Ae(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ce(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fe(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),We(y)}};function vs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(c){const y={};c=(c.g&&Fe(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var _=Wh(c[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=y[L]||[];y[L]=j,j.push(_)}D(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.za=0,this.i=[],this.j=new ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ts("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ts("baseRetryDelayMs",5e3,c),this.Za=Ts("retryDelaySeedMs",1e4,c),this.Ta=Ts("forwardChannelMaxRetries",2,c),this.va=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new cs(c&&c.concurrentRequestLimit),this.Ba=new Ru,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ya.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,S){he(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Vu(this,null,this.W),ws(this)};function Ss(c){if(As(c),c.I==3){var y=c.V++,_=re(c.J);if(Kt(_,"SID",c.M),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),bs(c,_),y=new Un(c,c.j,y),y.M=2,y.A=Ci(re(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ea(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ls(y)}Mu(c)}function ai(c){c.g&&(xo(c),c.g.cancel(),c.g=null)}function As(c){ai(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ws(c){if(!hs(c.h)&&!c.m){c.m=!0;var y=c.Ea;ut||w(),Dt||(ut(),Dt=!0),O.add(y,c),c.D=0}}function tf(c,y){return Tn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=sr(g(c.Ea,c,y),Ou(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Un(this,this.j,c);let j=this.o;if(this.U&&(j?(j=W(j),it(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=_a(this,L,y),_=re(this.J),Kt(_,"RID",c),Kt(_,"CVER",22),this.G&&Kt(_,"X-HTTP-Session-Id",this.G),bs(this,_),j&&(this.R?y="headers="+os(pr(j))+"&"+y:this.u&&An(_,this.u,j)),fa(this.h,L),this.Ra&&Kt(_,"TYPE","init"),this.S?(Kt(_,"$req",y),Kt(_,"SID","null"),L.U=!0,ni(L,_,null)):ni(L,_,y),this.I=2}}else this.I==3&&(c?Cu(this,c):this.i.length==0||hs(this.h)||Cu(this))};function Cu(c,y){var _;y?_=y.l:_=c.V++;const S=re(c.J);Kt(S,"SID",c.M),Kt(S,"RID",_),Kt(S,"AID",c.K),bs(c,S),c.u&&c.o&&An(S,c.u,c.o),_=new Un(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=_a(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fa(c.h,_),ni(_,S,y)}function bs(c,y){c.H&&Ut(c.H,function(_,S){Kt(y,S,_)}),c.l&&Ut({},function(_,S){Kt(y,S,_)})}function _a(c,y,_){_=Math.min(c.i.length,_);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let At=-1;for(;;){const Jt=["count="+_];At==-1?_>0?(At=L[0].g,Jt.push("ofs="+At)):At=0:Jt.push("ofs="+At);let jt=!0;for(let me=0;me<_;me++){var j=L[me].g;const cn=L[me].map;if(j-=At,j<0)At=Math.max(0,L[me].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var nt=cn instanceof Map?cn:Object.entries(cn);for(const[oi,qn]of nt){let jn=qn;m(qn)&&(jn=vn(qn)),Jt.push(j+oi+"="+encodeURIComponent(jn))}}catch(oi){throw Jt.push(j+"type="+encodeURIComponent("_badmap")),oi}}catch{S&&S(cn)}}if(jt){nt=Jt.join("&");break t}}nt=void 0}return c=c.i.splice(0,_),y.G=c,nt}function Du(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ut||w(),Dt||(ut(),Dt=!0),O.add(y,c),c.A=0}}function ko(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=sr(g(c.Da,c),Ou(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=sr(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),ai(this),Nu(this))};function xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=re(c.na);Kt(y,"RID","rpc"),Kt(y,"SID",c.M),Kt(y,"AID",c.K),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(y,"TO",c.ia),Kt(y,"TYPE","xmlhttp"),bs(c,y),c.u&&c.o&&An(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ci(re(y)),_.u=null,_.R=!0,lr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ai(this),ko(this),he(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lo(c,y){var _=null;if(c.g==y){va(c),xo(c),c.g=null;var S=2}else if(fs(c.h,y))_=y.G,Ii(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var L=c.D;S=la(),Ce(S,new Eu(S,_)),ws(c)}else Du(c);else if(L=y.m,L==3||L==0&&y.X>0||!(S==1&&tf(c,y)||S==2&&ko(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),L){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Ou(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),S=c.Ua;const L=!S;S=new zn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cr(S,"https"),Ci(S),L?Vo(S.toString(),_):dr(S.toString(),_)}else he(2);c.I=0,c.l&&c.l.pa(y),Mu(c),As(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const y=da(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Vu(c,y,_){var S=_ instanceof zn?re(_):new zn(_);if(S.g!="")y&&(S.g=y+"."+S.g),ds(S,S.u);else{var L=f.location;S=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const j=new zn(null);S&&cr(j,S),y&&(j.g=y),L&&ds(j,L),_&&(j.h=_),S=j}return _=c.G,y=c.wa,_&&y&&Kt(S,_,y),Kt(S,"VER",c.ka),bs(c,S),S}function Ea(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Wt(new ps({ab:_})):new Wt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){Se.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}A(tn,Se),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ss(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vn(c),c=_);y.i.push(new Zh(y.Ya++,c)),y.I==3&&ws(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,tn.Z.N.call(this)};function Uo(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Uo,nr);function ku(){Ln.call(this),this.status=1}A(ku,Ln);function gr(c){this.g=c}A(gr,Pu),gr.prototype.ra=function(){Ce(this.g,"a")},gr.prototype.qa=function(c){Ce(this.g,new Uo(c))},gr.prototype.pa=function(c){Ce(this.g,new ku)},gr.prototype.oa=function(){Ce(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,x0=function(){return new Ta},k0=function(){return la()},P0=En,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Xc=fe,xe.COMPLETE="complete",V0=xe,vu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Vl=vu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,M0=Wt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Ch("@firebase/firestore");function Xa(){return $s.logLevel}function ot(r,...t){if($s.logLevel<=Vt.DEBUG){const n=t.map(fp);$s.debug(`Firestore (${yo}): ${r}`,...n)}}function Ji(r,...t){if($s.logLevel<=Vt.ERROR){const n=t.map(fp);$s.error(`Firestore (${yo}): ${r}`,...n)}}function so(r,...t){if($s.logLevel<=Vt.WARN){const n=t.map(fp);$s.warn(`Firestore (${yo}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,L0(r,s,n)}function L0(r,t,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||L0(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Qe.UNAUTHENTICATED)))}shutdown(){}}class OD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MD{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class VD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new VD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function Cm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return cm(o)===cm(u)?Pt(o,u):cm(o)?1:-1}return Pt(r.length,t.length)}const LD=55296,UD=57343;function cm(r){const t=r.charCodeAt(0);return t>=LD&&t<=UD}function ao(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__name__";class di{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=di.isNumericId(t),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):Cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class ae extends di{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const zD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends di{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return zD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new qe([aE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(r,t,n){if(!n)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qD(r,t,n,s){if(t===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!mt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function $l(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,t){const n={typeString:r};return t&&(n.value=t),n}function fu(r,t){if(!z0(r))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uE);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lE)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fu(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function jD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new $r(o,mt.empty(),t)}function HD(r){return new $r(r.readTime,r.key,Xl)}class $r{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(St.min(),mt.empty(),Xl)}static max(){return new $r(St.max(),mt.empty(),Xl)}}function FD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==GD)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,s)=>{n(t)}))}static reject(t){return new X(((n,s)=>{s(t)}))}static waitFor(t){return new X(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next((o=>o?X.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new X(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new X(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function YD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function kh(r){return r==null}function dh(r){return r===0&&1/r==-1/0}function QD(r){return typeof r=="number"&&Number.isInteger(r)&&!dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="";function $D(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=cE(t)),t=XD(r.get(n),t);return cE(t)}function XD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case B0:n+="";break;default:n+=u}}return n}function cE(r){return r+B0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ea(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(t){return new fE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class fE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Qn([])}unionWith(t){let n=new Ie(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j0("Invalid base64 string: "+u):u}})(t);return new je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=WD.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="server_timestamp",F0="__type__",G0="__previous_value__",K0="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[F0]?.stringValue===H0}function xh(r){const t=r.mapValue.fields[G0];return gp(t)?xh(t):t}function Wl(r){const t=Xr(r.mapValue.fields[K0].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const mh="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__type__",JD="__max__",qc={mapValue:{}},Q0="__vector__",ph="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:eN(r)?9007199254740991:tN(r)?10:11:_t(28295,{value:r})}function Ti(r,t){if(r===t)return!0;const n=Zr(r);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Wl(r).isEqual(Wl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xr(o.timestampValue),m=Xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ao(r.arrayValue.values||[],t.arrayValue.values||[],Ti);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hE(f)!==hE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>Ti(n,t)))!==void 0}function oo(r,t){if(r===t)return 0;const n=Zr(r),s=Zr(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),p=ye(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return dE(r.timestampValue,t.timestampValue);case 4:return dE(Wl(r),Wl(t));case 5:return Cm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Wr(u),p=Wr(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pt(m[g],p[g]);if(E!==0)return E}return Pt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(ye(u.latitude),ye(f.latitude));return m!==0?m:Pt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return mE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[ph]?.arrayValue,E=p[ph]?.arrayValue,A=Pt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:mE(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const I=Cm(p[A],E[A]);if(I!==0)return I;const z=oo(m[p[A]],g[E[A]]);if(z!==0)return z}return Pt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function dE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Xr(r),s=Xr(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function mE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function lo(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Wr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function Wc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Wc(t):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Wc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ea(s.fields,((u,f)=>{o+=u.length+Wc(f)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function Nm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function pE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zc(r){return!!r&&"mapValue"in r}function tN(r){return(r?.mapValue?.fields||{})[Y0]?.stringValue===Q0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ea(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Bl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return t}return{...r}}function eN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ti(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ea(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Mn(Bl(this.value))}}function $0(r){const t=[];return ea(r.fields,((n,s)=>{const o=new qe([n]);if(Zc(s)){const u=$0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,St.min(),St.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,St.min(),St.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n){this.position=t,this.inclusive=n}}function yE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n="asc"){this.field=t,this.dir=n}}function nN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Re extends X0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new rN(t,n,s):n==="array-contains"?new oN(t,s):n==="in"?new lN(t,s):n==="not-in"?new uN(t,s):n==="array-contains-any"?new cN(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new sN(t,s):new aN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends X0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Si(t,n)}matches(t){return W0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W0(r){return r.op==="and"}function Z0(r){return iN(r)&&W0(r)}function iN(r){for(const t of r.filters)if(t instanceof Si)return!1;return!0}function Om(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(Z0(r))return r.filters.map((t=>Om(t))).join(",");{const t=r.filters.map((n=>Om(n))).join(",");return`${r.op}(${t})`}}function J0(r,t){return r instanceof Re?(function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)})(r,t):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&J0(f,o.filters[m])),!0):!1})(r,t):void _t(19439)}function tS(r){return r instanceof Re?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(tS).join(" ,")+"}"})(r):"Filter"}class rN extends Re{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class sN extends Re{constructor(t,n){super(t,"in",n),this.keys=eS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class aN extends Re{constructor(t,n){super(t,"not-in",n),this.keys=eS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function eS(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class oN extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yp(n)&&Jl(n.arrayValue,this.value)}}class lN extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class uN extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class cN extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function vE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new hN(r,t,n,s,o,u,f)}function _p(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Om(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>lo(s))).join(",")),t.Te=n}return t.Te}function vp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nN(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_E(r.startAt,t.startAt)&&_E(r.endAt,t.endAt)}function Mm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fN(r,t,n,s,o,u,f,m){return new Lh(r,t,n,s,o,u,f,m)}function Ep(r){return new Lh(r)}function EE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dN(r){return r.collectionGroup!==null}function ql(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ie(qe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new yh(u,s))})),n.has(qe.keyField().canonicalString())||t.Ie.push(new yh(qe.keyField(),s))}return t.Ie}function gi(r){const t=wt(r);return t.Ee||(t.Ee=mN(t,ql(r))),t.Ee}function mN(r,t){if(r.limitType==="F")return vE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return vE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Vm(r,t,n){return new Lh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Uh(r,t){return vp(gi(r),gi(t))&&r.limitType===t.limitType}function nS(r){return`${_p(gi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tS(o))).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function zh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=yE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,p){const g=yE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ql(s),o))})(r,t)}function pN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iS(r){return(t,n)=>{let s=!1;for(const o of ql(r)){const u=gN(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gN(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?oo(p,g):_t(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new oe(mt.comparator);function tr(){return yN}const rS=new oe(mt.comparator);function Pl(...r){let t=rS;for(const n of r)t=t.insert(n.key,n);return t}function sS(r){let t=rS;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Hs(){return jl()}function aS(){return jl()}function jl(){return new na((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _N=new oe(mt.comparator),vN=new Ie(mt.comparator);function kt(...r){let t=vN;for(const n of r)t=t.add(n);return t}const EN=new Ie(Pt);function TN(){return EN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function oS(r){return{integerValue:""+r}}function SN(r,t){return QD(t)?oS(t):Tp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function AN(r,t,n){return r instanceof _h?(function(o,u){const f={fields:{[F0]:{stringValue:H0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=xh(u)),u&&(f.fields[G0]=u),{mapValue:f}})(n,t):r instanceof tu?uS(r,t):r instanceof eu?cS(r,t):(function(o,u){const f=lS(o,u),m=TE(f)+TE(o.Ae);return Nm(f)&&Nm(o.Ae)?oS(m):Tp(o.serializer,m)})(r,t)}function wN(r,t,n){return r instanceof tu?uS(r,t):r instanceof eu?cS(r,t):n}function lS(r,t){return r instanceof vh?(function(s){return Nm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class _h extends Bh{}class tu extends Bh{constructor(t){super(),this.elements=t}}function uS(r,t){const n=hS(t);for(const s of r.elements)n.some((o=>Ti(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Bh{constructor(t){super(),this.elements=t}}function cS(r,t){let n=hS(t);for(const s of r.elements)n=n.filter((o=>!Ti(o,s)));return{arrayValue:{values:n}}}class vh extends Bh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function TE(r){return ye(r.integerValue||r.doubleValue)}function hS(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bN(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof eu&&o instanceof eu?ao(s.elements,o.elements,Ti):s instanceof vh&&o instanceof vh?Ti(s.Ae,o.Ae):s instanceof _h&&o instanceof _h})(r.transform,t.transform)}class RN{constructor(t,n){this.version=t,this.transformResults=n}}class $i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class qh{}function fS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mS(r.key,$i.none()):new du(r.key,r.data,$i.none());{const n=r.data,s=Mn.empty();let o=new Ie(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ia(r.key,s,new Qn(o.toArray()),$i.none())}}function IN(r,t,n){r instanceof du?(function(o,u,f){const m=o.value.clone(),p=AE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ia?(function(o,u,f){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=AE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(dS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Hl(r,t,n,s){return r instanceof du?(function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=u.value.clone(),E=wE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof ia?(function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=wE(u.fieldTransforms,p,f),E=f.data;return E.setAll(dS(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,m){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function CN(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=lS(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function SE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>bN(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class du extends qh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends qh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function AE(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,wN(f,m,n[o]))}return s}function wE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,AN(u,f,t))}return s}class mS extends qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&IN(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=aS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=fS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((n,s)=>SE(n,s)))&&ao(this.baseMutations,t.baseMutations,((n,s)=>SE(n,s)))}}class Sp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return _N})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function VN(r){switch(r){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function pS(r){if(r===void 0)return Ji("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:r})}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Kr([4294967295,4294967295],0);function bE(r){const t=PN().encode(r),n=new O0;return n.update(t),new Uint8Array(n.digest())}function RE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Kr([n,s],0),new Kr([o,u],0)]}class Ap{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Kr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Kr.fromNumber(s)));return o.compare(kN)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bE(t),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=bE(t),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new jh(St.min(),o,new oe(Pt),tr(),kt())}}class mu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mu(s,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class gS{constructor(t,n){this.targetId=t,this.Ce=n}}class yS{constructor(t,n,s=je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.ve=0,this.Fe=CE(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new mu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=CE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xN{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=jc(),this.He=jc(),this.Ye=new oe(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mm(u))if(s===0){const f=new mt(u.path);this.et(n,f,$e.newNoDocument(f,St.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(p){if(p instanceof j0)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(f,o,u)}catch(p){return so(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Mm(m.target)){const p=new mt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,$e.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=kt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new jh(t,n,this.Ye,this.je,s);return this.je=tr(),this.Je=jc(),this.He=jc(),this.Ye=new oe(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new IE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ie(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ie(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new IE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jc(){return new oe(mt.comparator)}function CE(){return new oe(mt.comparator)}const LN={asc:"ASCENDING",desc:"DESCENDING"},UN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pm(r,t){return r.useProto3Json||kh(t)?t:{value:t}}function Eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qN(r,t){return Eh(r,t.toTimestamp())}function yi(r){return qt(!!r,49232),St.fromTimestamp((function(n){const s=Xr(n);return new te(s.seconds,s.nanos)})(r))}function wp(r,t){return km(r,t).canonicalString()}function km(r,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function vS(r){const t=ae.fromString(r);return qt(wS(t),10190,{key:t.toString()}),t}function xm(r,t){return wp(r.databaseId,t.path)}function hm(r,t){const n=vS(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(TS(n))}function ES(r,t){return wp(r.databaseId,t)}function jN(r){const t=vS(r);return t.length===4?ae.emptyPath():TS(t)}function Lm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TS(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function DE(r,t,n){return{name:xm(r,t),fields:n.value.mapValue.fields}}function HN(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(qt(E===void 0||typeof E=="string",58123),je.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),je.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?J.UNKNOWN:pS(g.code);return new ht(E,g.message||"")})(f);n=new yS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):St.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?yi(s.readTime):St.min(),f=$e.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MN(o,u),m=s.targetId;n=new gS(m,f)}}return n}function FN(r,t){let n;if(t instanceof du)n={update:DE(r,t.key,t.value)};else if(t instanceof mS)n={delete:xm(r,t.key)};else if(t instanceof ia)n={update:DE(r,t.key,t.data),updateMask:JN(t.fieldMask)};else{if(!(t instanceof DN))return _t(16599,{Vt:t.type});n={verify:xm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,t.precondition)),n}function GN(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(St.min())&&(f=yi(u)),new RN(f,o.transformResults||[])})(n,t)))):[]}function KN(r,t){return{documents:[ES(r,t.path)]}}function YN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ES(r,o);const u=(function(g){if(g.length!==0)return AS(Si.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(I){return{field:Za(I.field),direction:XN(I.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function QN(r){let t=jN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const I=SS(A);return I instanceof Si&&Z0(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((I=>(function(G){return new yh(Ja(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let I;return I=typeof A=="object"?A.value:A,kh(I)?null:I})(n.limit));let p=null;n.startAt&&(p=(function(A){const I=!!A.before,z=A.values||[];return new gh(z,I)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const I=!A.before,z=A.values||[];return new gh(z,I)})(n.endAt)),fN(t,o,f,u,m,"F",p,g)}function $N(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Re.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Re.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>SS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(r):_t(30097,{filter:r})}function XN(r){return LN[r]}function WN(r){return UN[r]}function ZN(r){return zN[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Ja(r){return qe.fromServerFormat(r.fieldPath)}function AS(r){return r instanceof Re?(function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:WN(n.op),value:n.value}}})(r):r instanceof Si?(function(n){const s=n.getFilters().map((o=>AS(o)));return s.length===1?s[0]:{compositeFilter:{op:ZN(n.op),filters:s}}})(r):_t(54877,{filter:r})}function JN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function wS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.yt=t}}function eO(r){const t=QN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Cn=new iO}addToCollectionParentIndex(t,n){return this.Cn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve($r.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve($r.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class iO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(ae.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bS=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(bS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",rO=1048576;function ME([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class sO{constructor(t){this.Ir=t,this.buffer=new Ie(ME),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ME(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(OE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ot(OE,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Vr(3e5)}))}}class oO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(Ph.ce);const s=new sO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(NE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(g=Date.now(),Xa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function lO(r,t){return new oO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.changes=new na((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Hl(s.mutation,o,Qn.empty(),te.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const o=Hs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Pl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Hs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=tr();const f=jl(),m=(function(){return jl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ia)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Hl(E.mutation,g,E.mutation.getFieldMask(),te.now())):f.set(g.key,Qn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new cO(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=jl();let o=new oe(((f,m)=>f-m)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Qn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||kt()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=aS();E.forEach((I=>{if(!u.has(I)){const z=fS(n.get(I),s.get(I));z!==null&&A.set(I,z),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return X.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):X.resolve(Hs());let m=Xl,p=u;return f.next((g=>X.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((I=>{p=p.insert(E,I)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,kt()))).next((E=>({batchId:m,changes:sS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(t,u).next((m=>X.forEach(m,(p=>{const g=(function(A,I){return new Lh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((A,I)=>{f=f.insert(A,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))}));let m=Pl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Hl(E.mutation,g,Qn.empty(),te.now()),zh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eO(o.bundledQuery),readTime:yi(o.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.overlays=new oe(mt.comparator),this.qr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Hs();return X.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),X.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const o=Hs(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Hs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return X.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ON(n,s));let u=this.qr.get(n);u===void 0&&(u=kt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.Qr=new Ie(Ve.$r),this.Ur=new Ie(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ve(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new ae([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new ae([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=kt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ve(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ve.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Pt);return n.forEach((o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new mt(u),0);let m=new Ie(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(n.mutations,(o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.ri=t,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=tr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=tr();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||FD(HD(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return X.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new yO(this)}getSize(t){return X.resolve(this.size)}}class yO extends uO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),X.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.persistence=t,this.si=new na((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new bp,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),X.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.Pr(n),X.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),X.waitFor(u).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),X.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new mO,this.referenceDelegate=t(this),this.Pi=new _O(this),this.indexManager=new nO,this.remoteDocumentCache=(function(o){return new gO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tO(n),this.Ii=new fO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new pO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new vO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class vO extends KD{constructor(t){super(),this.currentSequenceNumber=t}}class Rp{constructor(t){this.persistence=t,this.Ri=new bp,this.Vi=null}static mi(t){return new Rp(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.pi=new na((s=>$D(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=lO(this,n)}static mi(t,n){return new Th(t,n)}Ei(){}di(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return X.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?X.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),X.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}br(t,n,s){return X.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DR()?8:YD(Xe())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new EO;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Xa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Xa()<=Vt.DEBUG&&ot("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):X.resolve())}ys(t,n){if(EE(n))return X.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=kt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,Vm(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return EE(n)||o.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?X.resolve(null):(Xa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(t,f,n,jD(o,Xl)).next((m=>m)))}))}Ds(t,n){let s=new Ie(iS(t));return n.forEach(((o,u)=>{zh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Xa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,$r.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",SO=3e8;class AO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new oe(Pt),this.xs=new na((u=>_p(u)),vp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function wO(r,t,n,s){return new AO(r,t,n,s)}async function IS(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=kt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function bO(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const A=g.batch,I=A.keys();let z=X.resolve();return I.forEach((G=>{z=z.next((()=>E.getEntry(p,G))).next((Z=>{const H=g.docVersions.get(G);qt(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=kt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function CS(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function RO(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,A)=>{const I=o.get(A);if(!I)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let z=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?z=z.withResumeToken(je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(A,z),(function(Z,H,et){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=SO?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(I,z,E)&&m.push(n.Pi.updateTargetData(u,z))}));let p=tr(),g=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(IO(u,f,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return X.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function IO(r,t,n){let s=kt(),o=kt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=tr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ot(Cp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function CO(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function DO(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,X.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Hr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Um(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!vo(f))throw f;ot(Cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function VE(r,t,n){const s=wt(r);let o=St.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const A=wt(p),I=A.xs.get(E);return I!==void 0?X.resolve(A.Ms.get(I)):A.Pi.getTargetData(g,E)})(s,f,gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:kt()))).next((m=>(NO(s,pN(t),m),{documents:m,Qs:u})))))}function NO(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class PE{constructor(){this.activeTargetIds=TN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OO{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(kE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(kE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function zm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",VO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=zm(),m=this.zo(t,n.toUriEncodedString());ot(fm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=mo(g);return this.Jo(t,m,p,s,E).then((A=>(ot(fm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw so(fm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=VO[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class xO extends PO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=zm();return new Promise(((m,p)=>{const g=new M0;g.setWithCredentials(!0),g.listenOnce(V0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xc.NO_ERROR:const A=g.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Xc.TIMEOUT:ot(Ye,`RPC '${t}' ${f} timed out`),p(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const I=g.getStatus();if(ot(Ye,`RPC '${t}' ${f} failed with status:`,I,"response text:",g.getResponseText()),I>0){let z=g.getResponseJson();Array.isArray(z)&&(z=z[0]);const G=z?.error;if(G&&G.status&&G.message){const Z=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(tt)>=0?tt:J.UNKNOWN})(G.status);p(new ht(Z,G.message))}else p(new ht(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Ye,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=x0(),m=k0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.I_(A);let I=!1,z=!1;const G=new kO({Yo:H=>{z?ot(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(I||(ot(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),I=!0),ot(Ye,`RPC '${t}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,et,tt)=>{H.listen(et,(rt=>{try{tt(rt)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return Z(A,Vl.EventType.OPEN,(()=>{z||(ot(Ye,`RPC '${t}' stream ${o} transport opened.`),G.o_())})),Z(A,Vl.EventType.CLOSE,(()=>{z||(z=!0,ot(Ye,`RPC '${t}' stream ${o} transport closed`),G.a_(),this.E_(A))})),Z(A,Vl.EventType.ERROR,(H=>{z||(z=!0,so(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),Z(A,Vl.EventType.MESSAGE,(H=>{if(!z){const et=H.data[0];qt(!!et,16349);const tt=et,rt=tt?.error||tt[0]?.error;if(rt){ot(Ye,`RPC '${t}' stream ${o} received error:`,rt);const Rt=rt.status;let ut=(function(w){const b=Ee[w];if(b!==void 0)return pS(b)})(Rt),Dt=rt.message;ut===void 0&&(ut=J.INTERNAL,Dt="Unknown error status: "+Rt+" with message "+rt.message),z=!0,G.a_(new ht(ut,Dt)),A.close()}else ot(Ye,`RPC '${t}' stream ${o} received:`,et),G.u_(et)}})),Z(m,P0.STAT_EVENT,(H=>{H.stat===Im.PROXY?ot(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Im.NOPROXY&&ot(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r){return new BN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class NS{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(LE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LO extends NS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=HN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?yi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Lm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Mm(p)?{documents:KN(u,p)}:{query:YN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_S(u,f.resumeToken);const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=$N(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.q_(n)}}class UO extends NS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=GN(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Lm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>FN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{}class BO extends zO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(J.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class jO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ra(this)&&(ot(Xs,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Fh(g)})(this))}))})),this.Ra=new qO(s,o)}}async function Fh(r){if(ra(r))for(const t of r.da)await t(!0)}async function pu(r){for(const t of r.da)await t(!1)}function OS(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mp(n)?Op(n):Eo(n).O_()&&Np(n,t))}function Dp(r,t){const n=wt(r),s=Eo(n);n.Ia.delete(t),s.O_()&&MS(n,t),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function Np(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Eo(r).Y_(t)}function MS(r,t){r.Va.Ue(t),Eo(r).Z_(t)}function Op(r){r.Va=new xN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.Ra.ua()}function Mp(r){return ra(r)&&!Eo(r).x_()&&r.Ia.size>0}function ra(r){return wt(r).Ea.size===0}function VS(r){r.Va=void 0}async function HO(r){r.Ra.set("Online")}async function FO(r){r.Ia.forEach(((t,n)=>{Np(r,t)}))}async function GO(r,t){VS(r),Mp(r)?(r.Ra.ha(t),Op(r)):r.Ra.set("Unknown")}async function KO(r,t,n){if(r.Ra.set("Online"),t instanceof yS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ot(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sh(r,s)}else if(t instanceof th?r.Va.Ze(t):t instanceof gS?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await CS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),MS(u,p);const A=new Hr(E.target,p,g,E.sequenceNumber);Np(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ot(Xs,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,t,n){if(!vo(t))throw t;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>CS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Fh(r)}))}function PS(r,t){return t().catch((n=>Sh(r,n,t)))}async function Gh(r){const t=wt(r),n=Jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pp;for(;YO(t);)try{const o=await CO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,QO(t,o)}catch(o){await Sh(t,o)}kS(t)&&xS(t)}function YO(r){return ra(r)&&r.Ta.length<10}function QO(r,t){r.Ta.push(t);const n=Jr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function kS(r){return ra(r)&&!Jr(r).x_()&&r.Ta.length>0}function xS(r){Jr(r).start()}async function $O(r){Jr(r).ra()}async function XO(r){const t=Jr(r);for(const n of r.Ta)t.ea(n.mutations)}async function WO(r,t,n){const s=r.Ta.shift(),o=Sp.from(s,t,n);await PS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Gh(r)}async function ZO(r,t){t&&Jr(r).X_&&await(async function(s,o){if((function(f){return VN(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();Jr(s).B_(),await PS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gh(s)}})(r,t),kS(r)&&xS(r)}async function UE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ot(Xs,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Fh(n)}async function JO(r,t){const n=wt(r);t?(n.Ea.delete(2),await Fh(n)):t||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Eo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new LO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:HO.bind(null,r),t_:FO.bind(null,r),r_:GO.bind(null,r),H_:KO.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Mp(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),VS(r))}))),r.ma}function Jr(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new UO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$O.bind(null,r),r_:ZO.bind(null,r),ta:XO.bind(null,r),na:WO.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Gh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),vo(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.ga=new oe(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class co{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(t,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class eM{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=BE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function BE(){return new na((r=>nS(r)),Uh)}async function nM(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new tM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kp(n)}async function iM(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rM(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function sM(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kp(r){r.Ca.forEach((t=>{t.next()}))}var Bm,qE;(qE=Bm||(Bm={})).Ma="default",qE.Cache="cache";class aM{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this.key=t}}class US{constructor(t){this.key=t}}class oM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=iS(t),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new zE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const I=o.get(E),z=zh(this.query,A)?A:null,G=!!I&&this.mutatedKeys.has(I.key),Z=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let H=!1;I&&z?I.data.isEqual(z.data)?G!==Z&&(s.track({type:3,doc:z}),H=!0):this.su(I,z)||(s.track({type:2,doc:z}),H=!0,(p&&this.eu(z,p)>0||g&&this.eu(z,g)<0)&&(m=!0)):!I&&z?(s.track({type:0,doc:z}),H=!0):I&&!z&&(s.track({type:1,doc:I}),H=!0,(p||g)&&(m=!0)),H&&(z?(f=f.add(z),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(z,G){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return Z(z)-Z(G)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new co(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new US(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new LS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class lM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class uM{constructor(t){this.key=t,this.hu=!1}}class cM{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((m=>nS(m)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(mt.comparator),this.Au=new Map,this.Ru=new bp,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hM(r,t,n=!0){const s=FS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(s,t,n,!0),o}async function fM(r,t){const n=FS(r);await zS(n,t,!0,!1)}async function zS(r,t,n,s){const o=await DO(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await dM(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&OS(r.remoteStore,o),m}async function dM(r,t,n,s,o){r.pu=(A,I,z)=>(async function(Z,H,et,tt){let rt=H.view.ru(et);rt.Cs&&(rt=await VE(Z.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,rt))));const Rt=tt&&tt.targetChanges.get(H.targetId),ut=tt&&tt.targetMismatches.get(H.targetId)!=null,Dt=H.view.applyChanges(rt,Z.isPrimaryClient,Rt,ut);return HE(Z,H.targetId,Dt.au),Dt.snapshot})(r,A,I,z);const u=await VE(r.localStore,t,!0),f=new oM(t,u.Qs),m=f.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);HE(r,n,g.au);const E=new lM(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function mM(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Uh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),qm(s,o.targetId)})).catch(_o)):(qm(s,o.targetId),await Um(s.localStore,o.targetId,!0))}async function pM(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function gM(r,t,n){const s=AM(r);try{const o=await(function(f,m){const p=wt(f),g=te.now(),E=m.reduce(((z,G)=>z.add(G.key)),kt());let A,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let G=tr(),Z=kt();return p.Ns.getEntries(z,E).next((H=>{G=H,G.forEach(((et,tt)=>{tt.isValidDocument()||(Z=Z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,G))).next((H=>{A=H;const et=[];for(const tt of m){const rt=CN(tt,A.get(tt.key).overlayedDocument);rt!=null&&et.push(new ia(tt.key,rt,$0(rt.value.mapValue),$i.exists(!0)))}return p.mutationQueue.addMutationBatch(z,g,et,m)})).next((H=>{I=H;const et=H.applyToLocalDocumentSet(A,Z);return p.documentOverlayCache.saveOverlays(z,H.batchId,et)}))})).then((()=>({batchId:I.batchId,changes:sS(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new oe(Pt)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await gu(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function BS(r,t){const n=wt(r);try{const s=await RO(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qt(f.hu,14607):o.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await gu(n,s,t)}catch(s){await _o(s)}}function jE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,A)=>{for(const I of A.Sa)I.va(m)&&(g=!0)})),g&&kp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function yM(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new oe(mt.comparator);f=f.insert(u,$e.newNoDocument(u,St.min()));const m=kt().add(u),p=new jh(St.min(),new Map,new oe(Pt),f,m);await BS(s,p),s.du=s.du.remove(u),s.Au.delete(t),Lp(s)}else await Um(s.localStore,t,!1).then((()=>qm(s,t,n))).catch(_o)}async function _M(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await bO(n.localStore,t);jS(n,s,null),qS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await _o(o)}}async function vM(r,t,n){const s=wt(r);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((A=>(qt(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);jS(s,t,n),qS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gu(s,o)}catch(o){await _o(o)}}function qS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function jS(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||HS(r,s)}))}function HS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Dp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Lp(r))}function HE(r,t,n){for(const s of n)s instanceof LS?(r.Ru.addReference(s.key,t),EM(r,s)):s instanceof US?(ot(xp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||HS(r,s.key)):_t(19791,{wu:s})}function EM(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(xp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(ae.fromString(t)),s=r.fu.next();r.Au.set(s,new uM(n)),r.du=r.du.insert(n,s),OS(r.remoteStore,new Hr(gi(Ep(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function gu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ip.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(g,(I=>X.forEach(I.Es,(z=>E.persistence.referenceDelegate.addReference(A,I.targetId,z))).next((()=>X.forEach(I.ds,(z=>E.persistence.referenceDelegate.removeReference(A,I.targetId,z)))))))))}catch(A){if(!vo(A))throw A;ot(Cp,"Failed to update sequence numbers: "+A)}for(const A of g){const I=A.targetId;if(!A.fromCache){const z=E.Ms.get(I),G=z.snapshotVersion,Z=z.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(I,Z)}}})(s.localStore,u))}async function TM(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ot(xp,"User change. New user:",t.toKey());const s=await IS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ht(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function SM(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function FS(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yM.bind(null,t),t.Pu.H_=rM.bind(null,t.eventManager),t.Pu.yu=sM.bind(null,t.eventManager),t}function AM(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vM.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return wO(this.persistence,new TO,t.initialUser,this.serializer)}Cu(t){return new RS(Rp.mi,this.serializer)}Du(t){return new OO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class wM extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new RS((s=>Th.mi(s,n)),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eM})()}createDatastore(t){const n=Hh(t.databaseInfo.databaseId),s=(function(u){return new xO(u)})(t.databaseInfo);return(function(u,f,m,p){return new BO(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new jO(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new MO})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const A=new cM(o,u,f,m,p,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ot(Xs,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class RM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function mm(r,t){r.asyncQueue.verifyOperationInProgress(),ot(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function FE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await IM(r);ot(ts,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>UE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>UE(t.remoteStore,o))),r._onlineComponents=t}async function IM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ts,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Ah)}}else ot(ts,"Using default OfflineComponentProvider"),await mm(r,new wM(void 0));return r._offlineComponents}async function GS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ts,"Using user provided OnlineComponentProvider"),await FE(r,r._uninitializedComponentsProvider._online)):(ot(ts,"Using default OnlineComponentProvider"),await FE(r,new jm))),r._onlineComponents}function CM(r){return GS(r).then((t=>t.syncEngine))}async function DM(r){const t=await GS(r),n=t.eventManager;return n.onListen=hM.bind(null,t.syncEngine),n.onUnlisten=mM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pM.bind(null,t.syncEngine),n}function NM(r,t,n={}){const s=new Yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new bM({next:I=>{E.Nu(),f.enqueueAndForget((()=>iM(u,A)));const z=I.docs.has(m);!z&&I.fromCache?g.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&I.fromCache&&p&&p.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new aM(Ep(m.path),E,{includeMetadataChanges:!0,qa:!0});return nM(u,A)})(await DM(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firestore.googleapis.com",KE=!0;class YE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=KE}else this.host=t.host,this.ssl=t.ssl??KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rO)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Up{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ND;switch(s.type){case"firstParty":return new PD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=GE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())})(this),Promise.resolve()}}function OM(r,t,n,s={}){r=$l(r,Up);const o=mo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(_T(`https://${m}`),vT("Firestore",!0)),u.host!==YS&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Qr(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Qe.MOCK_USER;else{g=TR(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(A)}r._authCredentials=new OD(new U0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zp(this.firestore,t,this._query)}}class Pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(fu(n,Pe._jsonSchema))return new Pe(t,s||null,new mt(ae.fromString(n.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Te("string",Pe._jsonSchemaVersion),referencePath:Te("string")};class nu extends zp{constructor(t,n,s){super(t,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new mt(t))}withConverter(t){return new nu(this.firestore,t,this._path)}}function QS(r,t,...n){if(r=un(r),arguments.length===1&&(t=dp.newId()),BD("doc","path",t),r instanceof Up){const s=ae.fromString(t,...n);return oE(s),new Pe(r,null,new mt(s))}{if(!(r instanceof Pe||r instanceof nu))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return oE(s),new Pe(r.firestore,r instanceof nu?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="AsyncQueue";class $E{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DS(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&ot(QE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;ot(QE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",XE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Vp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function XE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Bp extends Up{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $E(t),this._firestoreClient=void 0,await t}}}function MM(r,t){const n=typeof r=="object"?r:Zm(),s=typeof r=="string"?r:mh,o=Js(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vR("firestore");u&&OM(o,...u)}return o}function $S(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VM(r),r._firestoreClient}function VM(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new ZD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,KS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new RM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(je.fromBase64String(t))}catch(n){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vn(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fu(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Te("string",Vn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(fu(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Te("string",_i._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fu(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Te("string",vi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^__.*__$/;class kM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ia(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}function WS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class jp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WS(this.Ac)&&PM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class xM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(t)}Cc(t,n,s,o=!1){return new jp({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LM(r){const t=r._freezeSettings(),n=Hh(r._databaseId);return new xM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function UM(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);eA("Data must be an object, but it was:",f,s);const m=JS(s,f);let p,g;if(u.merge)p=new Qn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const I=zM(t,A,n);if(!f.contains(I))throw new ht(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);qM(E,I)||E.push(I)}p=new Qn(E),g=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=f.fieldTransforms;return new kM(new Mn(m),p,g)}function ZS(r,t){if(tA(r=un(r)))return eA("Unsupported field value:",t,r),JS(r,t);if(r instanceof XS)return(function(s,o){if(!WS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=ZS(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof Pe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vi)return(function(f,m){return{mapValue:{fields:{[Y0]:{stringValue:Q0},[ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${mp(s)}`)})(r,t)}function JS(r,t){const n={};return q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(r,((s,o)=>{const u=ZS(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof _i||r instanceof Vn||r instanceof Pe||r instanceof XS||r instanceof vi)}function eA(r,t,n){if(!tA(n)||!z0(n)){const s=mp(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function zM(r,t,n){if((t=un(t))instanceof qp)return t._internalPath;if(typeof t=="string")return nA(r,t);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const BM=new RegExp("[~\\*/\\[\\]]");function nA(r,t,n){if(t.search(BM)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qp(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(J.INVALID_ARGUMENT,m+r+p)}function qM(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(rA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jM extends iA{data(){return super.data()}}function rA(r,t){return typeof t=="string"?nA(r,t):t instanceof qp?t._internalPath:t._delegate._internalPath}class HM{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ea(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new vi(n)}convertGeoPoint(t){return new _i(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=xh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const n=Xr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);qt(wS(s),9688,{name:t});const o=new Zl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class xl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends iA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(rA("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Te("string",Fs._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class eh extends Fs{data(t={}){return super.data(t)}}class Fl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(r){r=$l(r,Pe);const t=$l(r.firestore,Bp);return NM($S(t),r._key).then((n=>XM(t,r,n)))}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Te("string",Fl._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class YM extends HM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,n)}}function QM(r,t,n){r=$l(r,Pe);const s=$l(r.firestore,Bp),o=FM(r.converter,t);return $M(s,[UM(LM(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,$i.none())])}function $M(r,t){return(function(s,o){const u=new Yr;return s.asyncQueue.enqueueAndForget((async()=>gM(await CM(s),o,u))),u.promise})($S(r),t)}function XM(r,t,n){const s=n.docs.get(t._key),o=new YM(r);return new Fs(r,o,t._key,s,new xl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){yo=o})(po),Ei(new $n("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Bp(new MD(s.getProvider("auth-internal")),new kD(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pn(iE,rE,t),Pn(iE,rE,"esm2020")})();const WM={apiKey:"AIzaSyCOhz4izj6yCg37TXOSNVyQcaJKSRhYX70",authDomain:"react-firebase-a4e3c.firebaseapp.com",projectId:"react-firebase-a4e3c",storageBucket:"react-firebase-a4e3c.firebasestorage.app",messagingSenderId:"312556206574",appId:"1:312556206574:web:6bf8519e385c6a0d1ab6ff",measurementId:"G-ZP8RFR8JSX"},Hp=RT(WM);RD(Hp);const iu=o2(Hp),sA=MM(Hp);function ZM(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),f=su(),m=async g=>{g.preventDefault();try{await YI(iu,r,n),f("/principal")}catch{u("Usurio no encontrado ou senha incorreta.")}},p=()=>{f("/register")};return Tt.jsxs("div",{className:"login-container",children:[Tt.jsx("h2",{children:"Login"}),Tt.jsxs("form",{className:"login-form",onSubmit:m,children:[Tt.jsx("input",{type:"email",placeholder:"E-mail",value:r,onChange:g=>t(g.target.value),required:!0}),Tt.jsx("input",{type:"password",placeholder:"Senha",value:n,onChange:g=>s(g.target.value),required:!0}),Tt.jsx("button",{type:"submit",className:"login-button",children:"Entrar"})]}),o&&Tt.jsx("p",{className:"error-message",children:o}),Tt.jsx("button",{onClick:p,className:"register-button",children:"Cadastre-se"})]})}function JM(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),[p,g]=F.useState(""),[E,A]=F.useState(""),I=su(),z=async G=>{G.preventDefault();try{const H=(await KI(iu,r,n)).user;await QM(QS(sA,"usuarios",H.uid),{uid:H.uid,nome:o,sobrenome:f,nascimento:p,email:r}),I("/login")}catch{A("Erro ao cadastrar usurio.")}};return Tt.jsxs("div",{className:"register-container",children:[Tt.jsx("h2",{children:"Cadastro"}),Tt.jsxs("form",{className:"register-form",onSubmit:z,children:[Tt.jsx("input",{type:"text",placeholder:"Nome",value:o,onChange:G=>u(G.target.value),required:!0}),Tt.jsx("input",{type:"text",placeholder:"Sobrenome",value:f,onChange:G=>m(G.target.value),required:!0}),Tt.jsx("input",{type:"date",value:p,onChange:G=>g(G.target.value),required:!0}),Tt.jsx("input",{type:"email",placeholder:"E-mail",value:r,onChange:G=>t(G.target.value),required:!0}),Tt.jsx("input",{type:"password",placeholder:"Senha",value:n,onChange:G=>s(G.target.value),required:!0}),Tt.jsx("button",{type:"submit",className:"register-button",children:"Cadastrar"})]}),E&&Tt.jsx("p",{className:"error-message",children:E})]})}function tV(){const[r,t]=F.useState(null),[n,s]=F.useState(!0),o=su();F.useEffect(()=>{const f=iu.onAuthStateChanged(async m=>{if(m)try{const p=QS(sA,"usuarios",m.uid),g=await KM(p);g.exists()&&t(g.data())}catch(p){console.error("Erro ao buscar dados do usurio:",p)}else o("/login");s(!1)});return()=>f()},[o]);const u=async()=>{await iu.signOut(),o("/login")};return n?Tt.jsx("p",{children:"Carregando informaes..."}):Tt.jsxs("div",{className:"principal-container",children:[Tt.jsx("h2",{children:"Bem-vindo(a)  Pgina Principal"}),r?Tt.jsxs("div",{className:"user-info",children:[Tt.jsxs("p",{children:[Tt.jsx("strong",{children:"Nome:"})," ",r.nome]}),Tt.jsxs("p",{children:[Tt.jsx("strong",{children:"Sobrenome:"})," ",r.sobrenome]}),Tt.jsxs("p",{children:[Tt.jsx("strong",{children:"Data de Nascimento:"})," ",r.nascimento]})]}):Tt.jsx("p",{children:"Dados no encontrados."}),Tt.jsx("button",{onClick:u,className:"logout-button",children:"Sair"})]})}const eV=()=>{const[r,t]=F.useState(null),[n,s]=F.useState(!0);return F.useEffect(()=>{const o=XI(iu,u=>{t(u),s(!1)});return()=>o()},[]),n?Tt.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:Tt.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):Tt.jsx(eR,{children:Tt.jsxs(Mb,{children:[Tt.jsx(Nl,{path:"/login",element:r?Tt.jsx(xc,{to:"/principal"}):Tt.jsx(ZM,{})}),Tt.jsx(Nl,{path:"/register",element:r?Tt.jsx(xc,{to:"/principal"}):Tt.jsx(JM,{})}),Tt.jsx(Nl,{path:"/principal",element:r?Tt.jsx(tV,{}):Tt.jsx(xc,{to:"/login"})}),Tt.jsx(Nl,{path:"*",element:Tt.jsx(xc,{to:r?"/principal":"/login"})})]})})},nV=document.getElementById("root"),iV=jw.createRoot(nV);iV.render(Tt.jsx(F.StrictMode,{children:Tt.jsx(eV,{})}));
